(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function s(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(n){if(n.ep)return;n.ep=!0;const i=s(n);fetch(n.href,i)}})();/**
* @vue/shared v3.5.19
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function zr(t){const e=Object.create(null);for(const s of t.split(","))e[s]=1;return s=>s in e}const Q={},jt=[],Oe=()=>{},mi=()=>!1,Fs=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Jr=t=>t.startsWith("onUpdate:"),ne=Object.assign,Gr=(t,e)=>{const s=t.indexOf(e);s>-1&&t.splice(s,1)},Vo=Object.prototype.hasOwnProperty,K=(t,e)=>Vo.call(t,e),L=Array.isArray,$t=t=>Bs(t)==="[object Map]",yi=t=>Bs(t)==="[object Set]",N=t=>typeof t=="function",ee=t=>typeof t=="string",ot=t=>typeof t=="symbol",Z=t=>t!==null&&typeof t=="object",bi=t=>(Z(t)||N(t))&&N(t.then)&&N(t.catch),wi=Object.prototype.toString,Bs=t=>wi.call(t),zo=t=>Bs(t).slice(8,-1),Si=t=>Bs(t)==="[object Object]",Yr=t=>ee(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Gt=zr(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Hs=t=>{const e=Object.create(null);return s=>e[s]||(e[s]=t(s))},Jo=/-(\w)/g,rt=Hs(t=>t.replace(Jo,(e,s)=>s?s.toUpperCase():"")),Go=/\B([A-Z])/g,yt=Hs(t=>t.replace(Go,"-$1").toLowerCase()),xi=Hs(t=>t.charAt(0).toUpperCase()+t.slice(1)),or=Hs(t=>t?`on${xi(t)}`:""),st=(t,e)=>!Object.is(t,e),ar=(t,...e)=>{for(let s=0;s<t.length;s++)t[s](...e)},Ti=(t,e,s,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:s})},Yo=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let En;const qs=()=>En||(En=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Ws(t){if(L(t)){const e={};for(let s=0;s<t.length;s++){const r=t[s],n=ee(r)?ea(r):Ws(r);if(n)for(const i in n)e[i]=n[i]}return e}else if(ee(t)||Z(t))return t}const Qo=/;(?![^(]*\))/g,Xo=/:([^]+)/,Zo=/\/\*[^]*?\*\//g;function ea(t){const e={};return t.replace(Zo,"").split(Qo).forEach(s=>{if(s){const r=s.split(Xo);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function Ks(t){let e="";if(ee(t))e=t;else if(L(t))for(let s=0;s<t.length;s++){const r=Ks(t[s]);r&&(e+=r+" ")}else if(Z(t))for(const s in t)t[s]&&(e+=s+" ");return e.trim()}const ta="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",sa=zr(ta);function ki(t){return!!t||t===""}const Ei=t=>!!(t&&t.__v_isRef===!0),De=t=>ee(t)?t:t==null?"":L(t)||Z(t)&&(t.toString===wi||!N(t.toString))?Ei(t)?De(t.value):JSON.stringify(t,Oi,2):String(t),Oi=(t,e)=>Ei(e)?Oi(t,e.value):$t(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((s,[r,n],i)=>(s[lr(r,i)+" =>"]=n,s),{})}:yi(e)?{[`Set(${e.size})`]:[...e.values()].map(s=>lr(s))}:ot(e)?lr(e):Z(e)&&!L(e)&&!Si(e)?String(e):e,lr=(t,e="")=>{var s;return ot(t)?`Symbol(${(s=t.description)!=null?s:e})`:t};/**
* @vue/reactivity v3.5.19
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let pe;class ra{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=pe,!e&&pe&&(this.index=(pe.scopes||(pe.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,s;if(this.scopes)for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].pause();for(e=0,s=this.effects.length;e<s;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,s;if(this.scopes)for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].resume();for(e=0,s=this.effects.length;e<s;e++)this.effects[e].resume()}}run(e){if(this._active){const s=pe;try{return pe=this,e()}finally{pe=s}}}on(){++this._on===1&&(this.prevScope=pe,pe=this)}off(){this._on>0&&--this._on===0&&(pe=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let s,r;for(s=0,r=this.effects.length;s<r;s++)this.effects[s].stop();for(this.effects.length=0,s=0,r=this.cleanups.length;s<r;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,r=this.scopes.length;s<r;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0}}}function na(){return pe}let Y;const cr=new WeakSet;class Ai{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,pe&&pe.active&&pe.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,cr.has(this)&&(cr.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Pi(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,On(this),ji(this);const e=Y,s=Ae;Y=this,Ae=!0;try{return this.fn()}finally{$i(this),Y=e,Ae=s,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Zr(e);this.deps=this.depsTail=void 0,On(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?cr.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){kr(this)&&this.run()}get dirty(){return kr(this)}}let Ci=0,Yt,Qt;function Pi(t,e=!1){if(t.flags|=8,e){t.next=Qt,Qt=t;return}t.next=Yt,Yt=t}function Qr(){Ci++}function Xr(){if(--Ci>0)return;if(Qt){let e=Qt;for(Qt=void 0;e;){const s=e.next;e.next=void 0,e.flags&=-9,e=s}}let t;for(;Yt;){let e=Yt;for(Yt=void 0;e;){const s=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){t||(t=r)}e=s}}if(t)throw t}function ji(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function $i(t){let e,s=t.depsTail,r=s;for(;r;){const n=r.prevDep;r.version===-1?(r===s&&(s=n),Zr(r),ia(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=n}t.deps=e,t.depsTail=s}function kr(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(Ri(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function Ri(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===is)||(t.globalVersion=is,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!kr(t))))return;t.flags|=2;const e=t.dep,s=Y,r=Ae;Y=t,Ae=!0;try{ji(t);const n=t.fn(t._value);(e.version===0||st(n,t._value))&&(t.flags|=128,t._value=n,e.version++)}catch(n){throw e.version++,n}finally{Y=s,Ae=r,$i(t),t.flags&=-3}}function Zr(t,e=!1){const{dep:s,prevSub:r,nextSub:n}=t;if(r&&(r.nextSub=n,t.prevSub=void 0),n&&(n.prevSub=r,t.nextSub=void 0),s.subs===t&&(s.subs=r,!r&&s.computed)){s.computed.flags&=-5;for(let i=s.computed.deps;i;i=i.nextDep)Zr(i,!0)}!e&&!--s.sc&&s.map&&s.map.delete(s.key)}function ia(t){const{prevDep:e,nextDep:s}=t;e&&(e.nextDep=s,t.prevDep=void 0),s&&(s.prevDep=e,t.nextDep=void 0)}let Ae=!0;const Ii=[];function Ve(){Ii.push(Ae),Ae=!1}function ze(){const t=Ii.pop();Ae=t===void 0?!0:t}function On(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const s=Y;Y=void 0;try{e()}finally{Y=s}}}let is=0;class oa{constructor(e,s){this.sub=e,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class en{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!Y||!Ae||Y===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==Y)s=this.activeLink=new oa(Y,this),Y.deps?(s.prevDep=Y.depsTail,Y.depsTail.nextDep=s,Y.depsTail=s):Y.deps=Y.depsTail=s,Ui(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const r=s.nextDep;r.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=r),s.prevDep=Y.depsTail,s.nextDep=void 0,Y.depsTail.nextDep=s,Y.depsTail=s,Y.deps===s&&(Y.deps=r)}return s}trigger(e){this.version++,is++,this.notify(e)}notify(e){Qr();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{Xr()}}}function Ui(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)Ui(r)}const s=t.dep.subs;s!==t&&(t.prevSub=s,s&&(s.nextSub=t)),t.dep.subs=t}}const Er=new WeakMap,mt=Symbol(""),Or=Symbol(""),os=Symbol("");function oe(t,e,s){if(Ae&&Y){let r=Er.get(t);r||Er.set(t,r=new Map);let n=r.get(s);n||(r.set(s,n=new en),n.map=r,n.key=s),n.track()}}function We(t,e,s,r,n,i){const o=Er.get(t);if(!o){is++;return}const a=l=>{l&&l.trigger()};if(Qr(),e==="clear")o.forEach(a);else{const l=L(t),u=l&&Yr(s);if(l&&s==="length"){const c=Number(r);o.forEach((h,g)=>{(g==="length"||g===os||!ot(g)&&g>=c)&&a(h)})}else switch((s!==void 0||o.has(void 0))&&a(o.get(s)),u&&a(o.get(os)),e){case"add":l?u&&a(o.get("length")):(a(o.get(mt)),$t(t)&&a(o.get(Or)));break;case"delete":l||(a(o.get(mt)),$t(t)&&a(o.get(Or)));break;case"set":$t(t)&&a(o.get(mt));break}}Xr()}function St(t){const e=W(t);return e===t?e:(oe(e,"iterate",os),Se(t)?e:e.map(re))}function Vs(t){return oe(t=W(t),"iterate",os),t}const aa={__proto__:null,[Symbol.iterator](){return ur(this,Symbol.iterator,re)},concat(...t){return St(this).concat(...t.map(e=>L(e)?St(e):e))},entries(){return ur(this,"entries",t=>(t[1]=re(t[1]),t))},every(t,e){return Fe(this,"every",t,e,void 0,arguments)},filter(t,e){return Fe(this,"filter",t,e,s=>s.map(re),arguments)},find(t,e){return Fe(this,"find",t,e,re,arguments)},findIndex(t,e){return Fe(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return Fe(this,"findLast",t,e,re,arguments)},findLastIndex(t,e){return Fe(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return Fe(this,"forEach",t,e,void 0,arguments)},includes(...t){return hr(this,"includes",t)},indexOf(...t){return hr(this,"indexOf",t)},join(t){return St(this).join(t)},lastIndexOf(...t){return hr(this,"lastIndexOf",t)},map(t,e){return Fe(this,"map",t,e,void 0,arguments)},pop(){return Wt(this,"pop")},push(...t){return Wt(this,"push",t)},reduce(t,...e){return An(this,"reduce",t,e)},reduceRight(t,...e){return An(this,"reduceRight",t,e)},shift(){return Wt(this,"shift")},some(t,e){return Fe(this,"some",t,e,void 0,arguments)},splice(...t){return Wt(this,"splice",t)},toReversed(){return St(this).toReversed()},toSorted(t){return St(this).toSorted(t)},toSpliced(...t){return St(this).toSpliced(...t)},unshift(...t){return Wt(this,"unshift",t)},values(){return ur(this,"values",re)}};function ur(t,e,s){const r=Vs(t),n=r[e]();return r!==t&&!Se(t)&&(n._next=n.next,n.next=()=>{const i=n._next();return i.value&&(i.value=s(i.value)),i}),n}const la=Array.prototype;function Fe(t,e,s,r,n,i){const o=Vs(t),a=o!==t&&!Se(t),l=o[e];if(l!==la[e]){const h=l.apply(t,i);return a?re(h):h}let u=s;o!==t&&(a?u=function(h,g){return s.call(this,re(h),g,t)}:s.length>2&&(u=function(h,g){return s.call(this,h,g,t)}));const c=l.call(o,u,r);return a&&n?n(c):c}function An(t,e,s,r){const n=Vs(t);let i=s;return n!==t&&(Se(t)?s.length>3&&(i=function(o,a,l){return s.call(this,o,a,l,t)}):i=function(o,a,l){return s.call(this,o,re(a),l,t)}),n[e](i,...r)}function hr(t,e,s){const r=W(t);oe(r,"iterate",os);const n=r[e](...s);return(n===-1||n===!1)&&nn(s[0])?(s[0]=W(s[0]),r[e](...s)):n}function Wt(t,e,s=[]){Ve(),Qr();const r=W(t)[e].apply(t,s);return Xr(),ze(),r}const ca=zr("__proto__,__v_isRef,__isVue"),Li=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(ot));function ua(t){ot(t)||(t=String(t));const e=W(this);return oe(e,"has",t),e.hasOwnProperty(t)}class Di{constructor(e=!1,s=!1){this._isReadonly=e,this._isShallow=s}get(e,s,r){if(s==="__v_skip")return e.__v_skip;const n=this._isReadonly,i=this._isShallow;if(s==="__v_isReactive")return!n;if(s==="__v_isReadonly")return n;if(s==="__v_isShallow")return i;if(s==="__v_raw")return r===(n?i?ba:Bi:i?Fi:Mi).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const o=L(e);if(!n){let l;if(o&&(l=aa[s]))return l;if(s==="hasOwnProperty")return ua}const a=Reflect.get(e,s,ae(e)?e:r);return(ot(s)?Li.has(s):ca(s))||(n||oe(e,"get",s),i)?a:ae(a)?o&&Yr(s)?a:a.value:Z(a)?n?Hi(a):sn(a):a}}class Ni extends Di{constructor(e=!1){super(!1,e)}set(e,s,r,n){let i=e[s];if(!this._isShallow){const l=nt(i);if(!Se(r)&&!nt(r)&&(i=W(i),r=W(r)),!L(e)&&ae(i)&&!ae(r))return l||(i.value=r),!0}const o=L(e)&&Yr(s)?Number(s)<e.length:K(e,s),a=Reflect.set(e,s,r,ae(e)?e:n);return e===W(n)&&(o?st(r,i)&&We(e,"set",s,r):We(e,"add",s,r)),a}deleteProperty(e,s){const r=K(e,s);e[s];const n=Reflect.deleteProperty(e,s);return n&&r&&We(e,"delete",s,void 0),n}has(e,s){const r=Reflect.has(e,s);return(!ot(s)||!Li.has(s))&&oe(e,"has",s),r}ownKeys(e){return oe(e,"iterate",L(e)?"length":mt),Reflect.ownKeys(e)}}class ha extends Di{constructor(e=!1){super(!0,e)}set(e,s){return!0}deleteProperty(e,s){return!0}}const da=new Ni,fa=new ha,pa=new Ni(!0);const Ar=t=>t,ws=t=>Reflect.getPrototypeOf(t);function ga(t,e,s){return function(...r){const n=this.__v_raw,i=W(n),o=$t(i),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,u=n[t](...r),c=s?Ar:e?$s:re;return!e&&oe(i,"iterate",l?Or:mt),{next(){const{value:h,done:g}=u.next();return g?{value:h,done:g}:{value:a?[c(h[0]),c(h[1])]:c(h),done:g}},[Symbol.iterator](){return this}}}}function Ss(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function _a(t,e){const s={get(n){const i=this.__v_raw,o=W(i),a=W(n);t||(st(n,a)&&oe(o,"get",n),oe(o,"get",a));const{has:l}=ws(o),u=e?Ar:t?$s:re;if(l.call(o,n))return u(i.get(n));if(l.call(o,a))return u(i.get(a));i!==o&&i.get(n)},get size(){const n=this.__v_raw;return!t&&oe(W(n),"iterate",mt),Reflect.get(n,"size",n)},has(n){const i=this.__v_raw,o=W(i),a=W(n);return t||(st(n,a)&&oe(o,"has",n),oe(o,"has",a)),n===a?i.has(n):i.has(n)||i.has(a)},forEach(n,i){const o=this,a=o.__v_raw,l=W(a),u=e?Ar:t?$s:re;return!t&&oe(l,"iterate",mt),a.forEach((c,h)=>n.call(i,u(c),u(h),o))}};return ne(s,t?{add:Ss("add"),set:Ss("set"),delete:Ss("delete"),clear:Ss("clear")}:{add(n){!e&&!Se(n)&&!nt(n)&&(n=W(n));const i=W(this);return ws(i).has.call(i,n)||(i.add(n),We(i,"add",n,n)),this},set(n,i){!e&&!Se(i)&&!nt(i)&&(i=W(i));const o=W(this),{has:a,get:l}=ws(o);let u=a.call(o,n);u||(n=W(n),u=a.call(o,n));const c=l.call(o,n);return o.set(n,i),u?st(i,c)&&We(o,"set",n,i):We(o,"add",n,i),this},delete(n){const i=W(this),{has:o,get:a}=ws(i);let l=o.call(i,n);l||(n=W(n),l=o.call(i,n)),a&&a.call(i,n);const u=i.delete(n);return l&&We(i,"delete",n,void 0),u},clear(){const n=W(this),i=n.size!==0,o=n.clear();return i&&We(n,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(n=>{s[n]=ga(n,t,e)}),s}function tn(t,e){const s=_a(t,e);return(r,n,i)=>n==="__v_isReactive"?!t:n==="__v_isReadonly"?t:n==="__v_raw"?r:Reflect.get(K(s,n)&&n in r?s:r,n,i)}const va={get:tn(!1,!1)},ma={get:tn(!1,!0)},ya={get:tn(!0,!1)};const Mi=new WeakMap,Fi=new WeakMap,Bi=new WeakMap,ba=new WeakMap;function wa(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Sa(t){return t.__v_skip||!Object.isExtensible(t)?0:wa(zo(t))}function sn(t){return nt(t)?t:rn(t,!1,da,va,Mi)}function xa(t){return rn(t,!1,pa,ma,Fi)}function Hi(t){return rn(t,!0,fa,ya,Bi)}function rn(t,e,s,r,n){if(!Z(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=Sa(t);if(i===0)return t;const o=n.get(t);if(o)return o;const a=new Proxy(t,i===2?r:s);return n.set(t,a),a}function Rt(t){return nt(t)?Rt(t.__v_raw):!!(t&&t.__v_isReactive)}function nt(t){return!!(t&&t.__v_isReadonly)}function Se(t){return!!(t&&t.__v_isShallow)}function nn(t){return t?!!t.__v_raw:!1}function W(t){const e=t&&t.__v_raw;return e?W(e):t}function Ta(t){return!K(t,"__v_skip")&&Object.isExtensible(t)&&Ti(t,"__v_skip",!0),t}const re=t=>Z(t)?sn(t):t,$s=t=>Z(t)?Hi(t):t;function ae(t){return t?t.__v_isRef===!0:!1}function Ke(t){return ka(t,!1)}function ka(t,e){return ae(t)?t:new Ea(t,e)}class Ea{constructor(e,s){this.dep=new en,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?e:W(e),this._value=s?e:re(e),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(e){const s=this._rawValue,r=this.__v_isShallow||Se(e)||nt(e);e=r?e:W(e),st(e,s)&&(this._rawValue=e,this._value=r?e:re(e),this.dep.trigger())}}function Oa(t){return ae(t)?t.value:t}const Aa={get:(t,e,s)=>e==="__v_raw"?t:Oa(Reflect.get(t,e,s)),set:(t,e,s,r)=>{const n=t[e];return ae(n)&&!ae(s)?(n.value=s,!0):Reflect.set(t,e,s,r)}};function qi(t){return Rt(t)?t:new Proxy(t,Aa)}class Ca{constructor(e,s,r){this.fn=e,this.setter=s,this._value=void 0,this.dep=new en(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=is-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&Y!==this)return Pi(this,!0),!0}get value(){const e=this.dep.track();return Ri(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function Pa(t,e,s=!1){let r,n;return N(t)?r=t:(r=t.get,n=t.set),new Ca(r,n,s)}const xs={},Rs=new WeakMap;let gt;function ja(t,e=!1,s=gt){if(s){let r=Rs.get(s);r||Rs.set(s,r=[]),r.push(t)}}function $a(t,e,s=Q){const{immediate:r,deep:n,once:i,scheduler:o,augmentJob:a,call:l}=s,u=k=>n?k:Se(k)||n===!1||n===0?et(k,1):et(k);let c,h,g,f,v=!1,S=!1;if(ae(t)?(h=()=>t.value,v=Se(t)):Rt(t)?(h=()=>u(t),v=!0):L(t)?(S=!0,v=t.some(k=>Rt(k)||Se(k)),h=()=>t.map(k=>{if(ae(k))return k.value;if(Rt(k))return u(k);if(N(k))return l?l(k,2):k()})):N(t)?e?h=l?()=>l(t,2):t:h=()=>{if(g){Ve();try{g()}finally{ze()}}const k=gt;gt=c;try{return l?l(t,3,[f]):t(f)}finally{gt=k}}:h=Oe,e&&n){const k=h,H=n===!0?1/0:n;h=()=>et(k(),H)}const C=na(),$=()=>{c.stop(),C&&C.active&&Gr(C.effects,c)};if(i&&e){const k=e;e=(...H)=>{k(...H),$()}}let I=S?new Array(t.length).fill(xs):xs;const O=k=>{if(!(!(c.flags&1)||!c.dirty&&!k))if(e){const H=c.run();if(n||v||(S?H.some((B,q)=>st(B,I[q])):st(H,I))){g&&g();const B=gt;gt=c;try{const q=[H,I===xs?void 0:S&&I[0]===xs?[]:I,f];I=H,l?l(e,3,q):e(...q)}finally{gt=B}}}else c.run()};return a&&a(O),c=new Ai(h),c.scheduler=o?()=>o(O,!1):O,f=k=>ja(k,!1,c),g=c.onStop=()=>{const k=Rs.get(c);if(k){if(l)l(k,4);else for(const H of k)H();Rs.delete(c)}},e?r?O(!0):I=c.run():o?o(O.bind(null,!0),!0):c.run(),$.pause=c.pause.bind(c),$.resume=c.resume.bind(c),$.stop=$,$}function et(t,e=1/0,s){if(e<=0||!Z(t)||t.__v_skip||(s=s||new Set,s.has(t)))return t;if(s.add(t),e--,ae(t))et(t.value,e,s);else if(L(t))for(let r=0;r<t.length;r++)et(t[r],e,s);else if(yi(t)||$t(t))t.forEach(r=>{et(r,e,s)});else if(Si(t)){for(const r in t)et(t[r],e,s);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&et(t[r],e,s)}return t}/**
* @vue/runtime-core v3.5.19
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function hs(t,e,s,r){try{return r?t(...r):t()}catch(n){zs(n,e,s)}}function Me(t,e,s,r){if(N(t)){const n=hs(t,e,s,r);return n&&bi(n)&&n.catch(i=>{zs(i,e,s)}),n}if(L(t)){const n=[];for(let i=0;i<t.length;i++)n.push(Me(t[i],e,s,r));return n}}function zs(t,e,s,r=!0){const n=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||Q;if(e){let a=e.parent;const l=e.proxy,u=`https://vuejs.org/error-reference/#runtime-${s}`;for(;a;){const c=a.ec;if(c){for(let h=0;h<c.length;h++)if(c[h](t,l,u)===!1)return}a=a.parent}if(i){Ve(),hs(i,null,10,[t,l,u]),ze();return}}Ra(t,s,n,r,o)}function Ra(t,e,s,r=!0,n=!1){if(n)throw t;console.error(t)}const he=[];let Re=-1;const It=[];let Xe=null,At=0;const Wi=Promise.resolve();let Is=null;function Ia(t){const e=Is||Wi;return t?e.then(this?t.bind(this):t):e}function Ua(t){let e=Re+1,s=he.length;for(;e<s;){const r=e+s>>>1,n=he[r],i=as(n);i<t||i===t&&n.flags&2?e=r+1:s=r}return e}function on(t){if(!(t.flags&1)){const e=as(t),s=he[he.length-1];!s||!(t.flags&2)&&e>=as(s)?he.push(t):he.splice(Ua(e),0,t),t.flags|=1,Ki()}}function Ki(){Is||(Is=Wi.then(zi))}function La(t){L(t)?It.push(...t):Xe&&t.id===-1?Xe.splice(At+1,0,t):t.flags&1||(It.push(t),t.flags|=1),Ki()}function Cn(t,e,s=Re+1){for(;s<he.length;s++){const r=he[s];if(r&&r.flags&2){if(t&&r.id!==t.uid)continue;he.splice(s,1),s--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function Vi(t){if(It.length){const e=[...new Set(It)].sort((s,r)=>as(s)-as(r));if(It.length=0,Xe){Xe.push(...e);return}for(Xe=e,At=0;At<Xe.length;At++){const s=Xe[At];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}Xe=null,At=0}}const as=t=>t.id==null?t.flags&2?-1:1/0:t.id;function zi(t){const e=Oe;try{for(Re=0;Re<he.length;Re++){const s=he[Re];s&&!(s.flags&8)&&(s.flags&4&&(s.flags&=-2),hs(s,s.i,s.i?15:14),s.flags&4||(s.flags&=-2))}}finally{for(;Re<he.length;Re++){const s=he[Re];s&&(s.flags&=-2)}Re=-1,he.length=0,Vi(),Is=null,(he.length||It.length)&&zi()}}let Ne=null,Ji=null;function Us(t){const e=Ne;return Ne=t,Ji=t&&t.type.__scopeId||null,e}function Da(t,e=Ne,s){if(!e||t._n)return t;const r=(...n)=>{r._d&&Dn(-1);const i=Us(e);let o;try{o=t(...n)}finally{Us(i),r._d&&Dn(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function ht(t,e,s,r){const n=t.dirs,i=e&&e.dirs;for(let o=0;o<n.length;o++){const a=n[o];i&&(a.oldValue=i[o].value);let l=a.dir[r];l&&(Ve(),Me(l,s,8,[t.el,a,t,e]),ze())}}const Na=Symbol("_vte"),Ma=t=>t.__isTeleport,Fa=Symbol("_leaveCb");function an(t,e){t.shapeFlag&6&&t.component?(t.transition=e,an(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function Gi(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function Xt(t,e,s,r,n=!1){if(L(t)){t.forEach((v,S)=>Xt(v,e&&(L(e)?e[S]:e),s,r,n));return}if(Zt(r)&&!n){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&Xt(t,e,s,r.component.subTree);return}const i=r.shapeFlag&4?pn(r.component):r.el,o=n?null:i,{i:a,r:l}=t,u=e&&e.r,c=a.refs===Q?a.refs={}:a.refs,h=a.setupState,g=W(h),f=h===Q?mi:v=>K(g,v);if(u!=null&&u!==l){if(ee(u))c[u]=null,f(u)&&(h[u]=null);else if(ae(u)){u.value=null;const v=e;v.k&&(c[v.k]=null)}}if(N(l))hs(l,a,12,[o,c]);else{const v=ee(l),S=ae(l);if(v||S){const C=()=>{if(t.f){const $=v?f(l)?h[l]:c[l]:l.value;if(n)L($)&&Gr($,i);else if(L($))$.includes(i)||$.push(i);else if(v)c[l]=[i],f(l)&&(h[l]=c[l]);else{const I=[i];l.value=I,t.k&&(c[t.k]=I)}}else v?(c[l]=o,f(l)&&(h[l]=o)):S&&(l.value=o,t.k&&(c[t.k]=o))};o?(C.id=-1,ye(C,s)):C()}}}qs().requestIdleCallback;qs().cancelIdleCallback;const Zt=t=>!!t.type.__asyncLoader,Yi=t=>t.type.__isKeepAlive;function Ba(t,e){Qi(t,"a",e)}function Ha(t,e){Qi(t,"da",e)}function Qi(t,e,s=de){const r=t.__wdc||(t.__wdc=()=>{let n=s;for(;n;){if(n.isDeactivated)return;n=n.parent}return t()});if(Js(e,r,s),s){let n=s.parent;for(;n&&n.parent;)Yi(n.parent.vnode)&&qa(r,e,s,n),n=n.parent}}function qa(t,e,s,r){const n=Js(e,t,r,!0);cn(()=>{Gr(r[e],n)},s)}function Js(t,e,s=de,r=!1){if(s){const n=s[t]||(s[t]=[]),i=e.__weh||(e.__weh=(...o)=>{Ve();const a=ds(s),l=Me(e,s,t,o);return a(),ze(),l});return r?n.unshift(i):n.push(i),i}}const Je=t=>(e,s=de)=>{(!cs||t==="sp")&&Js(t,(...r)=>e(...r),s)},Wa=Je("bm"),ln=Je("m"),Ka=Je("bu"),Va=Je("u"),za=Je("bum"),cn=Je("um"),Ja=Je("sp"),Ga=Je("rtg"),Ya=Je("rtc");function Qa(t,e=de){Js("ec",t,e)}const Xa=Symbol.for("v-ndc");function Za(t,e,s,r){let n;const i=s&&s[r],o=L(t);if(o||ee(t)){const a=o&&Rt(t);let l=!1,u=!1;a&&(l=!Se(t),u=nt(t),t=Vs(t)),n=new Array(t.length);for(let c=0,h=t.length;c<h;c++)n[c]=e(l?u?$s(re(t[c])):re(t[c]):t[c],c,void 0,i&&i[c])}else if(typeof t=="number"){n=new Array(t);for(let a=0;a<t;a++)n[a]=e(a+1,a,void 0,i&&i[a])}else if(Z(t))if(t[Symbol.iterator])n=Array.from(t,(a,l)=>e(a,l,void 0,i&&i[l]));else{const a=Object.keys(t);n=new Array(a.length);for(let l=0,u=a.length;l<u;l++){const c=a[l];n[l]=e(t[c],c,l,i&&i[l])}}else n=[];return s&&(s[r]=n),n}const Cr=t=>t?mo(t)?pn(t):Cr(t.parent):null,es=ne(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Cr(t.parent),$root:t=>Cr(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>un(t),$forceUpdate:t=>t.f||(t.f=()=>{on(t.update)}),$nextTick:t=>t.n||(t.n=Ia.bind(t.proxy)),$watch:t=>wl.bind(t)}),dr=(t,e)=>t!==Q&&!t.__isScriptSetup&&K(t,e),el={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:s,setupState:r,data:n,props:i,accessCache:o,type:a,appContext:l}=t;let u;if(e[0]!=="$"){const f=o[e];if(f!==void 0)switch(f){case 1:return r[e];case 2:return n[e];case 4:return s[e];case 3:return i[e]}else{if(dr(r,e))return o[e]=1,r[e];if(n!==Q&&K(n,e))return o[e]=2,n[e];if((u=t.propsOptions[0])&&K(u,e))return o[e]=3,i[e];if(s!==Q&&K(s,e))return o[e]=4,s[e];Pr&&(o[e]=0)}}const c=es[e];let h,g;if(c)return e==="$attrs"&&oe(t.attrs,"get",""),c(t);if((h=a.__cssModules)&&(h=h[e]))return h;if(s!==Q&&K(s,e))return o[e]=4,s[e];if(g=l.config.globalProperties,K(g,e))return g[e]},set({_:t},e,s){const{data:r,setupState:n,ctx:i}=t;return dr(n,e)?(n[e]=s,!0):r!==Q&&K(r,e)?(r[e]=s,!0):K(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=s,!0)},has({_:{data:t,setupState:e,accessCache:s,ctx:r,appContext:n,propsOptions:i,type:o}},a){let l,u;return!!(s[a]||t!==Q&&a[0]!=="$"&&K(t,a)||dr(e,a)||(l=i[0])&&K(l,a)||K(r,a)||K(es,a)||K(n.config.globalProperties,a)||(u=o.__cssModules)&&u[a])},defineProperty(t,e,s){return s.get!=null?t._.accessCache[e]=0:K(s,"value")&&this.set(t,e,s.value,null),Reflect.defineProperty(t,e,s)}};function Pn(t){return L(t)?t.reduce((e,s)=>(e[s]=null,e),{}):t}let Pr=!0;function tl(t){const e=un(t),s=t.proxy,r=t.ctx;Pr=!1,e.beforeCreate&&jn(e.beforeCreate,t,"bc");const{data:n,computed:i,methods:o,watch:a,provide:l,inject:u,created:c,beforeMount:h,mounted:g,beforeUpdate:f,updated:v,activated:S,deactivated:C,beforeDestroy:$,beforeUnmount:I,destroyed:O,unmounted:k,render:H,renderTracked:B,renderTriggered:q,errorCaptured:Ge,serverPrefetch:_s,expose:lt,inheritAttrs:Bt,components:vs,directives:ms,filters:sr}=e;if(u&&sl(u,r,null),o)for(const X in o){const z=o[X];N(z)&&(r[X]=z.bind(s))}if(n){const X=n.call(s,s);Z(X)&&(t.data=sn(X))}if(Pr=!0,i)for(const X in i){const z=i[X],ct=N(z)?z.bind(s,s):N(z.get)?z.get.bind(s,s):Oe,ys=!N(z)&&N(z.set)?z.set.bind(s):Oe,ut=Wl({get:ct,set:ys});Object.defineProperty(r,X,{enumerable:!0,configurable:!0,get:()=>ut.value,set:Pe=>ut.value=Pe})}if(a)for(const X in a)Xi(a[X],r,s,X);if(l){const X=N(l)?l.call(s):l;Reflect.ownKeys(X).forEach(z=>{ll(z,X[z])})}c&&jn(c,t,"c");function le(X,z){L(z)?z.forEach(ct=>X(ct.bind(s))):z&&X(z.bind(s))}if(le(Wa,h),le(ln,g),le(Ka,f),le(Va,v),le(Ba,S),le(Ha,C),le(Qa,Ge),le(Ya,B),le(Ga,q),le(za,I),le(cn,k),le(Ja,_s),L(lt))if(lt.length){const X=t.exposed||(t.exposed={});lt.forEach(z=>{Object.defineProperty(X,z,{get:()=>s[z],set:ct=>s[z]=ct,enumerable:!0})})}else t.exposed||(t.exposed={});H&&t.render===Oe&&(t.render=H),Bt!=null&&(t.inheritAttrs=Bt),vs&&(t.components=vs),ms&&(t.directives=ms),_s&&Gi(t)}function sl(t,e,s=Oe){L(t)&&(t=jr(t));for(const r in t){const n=t[r];let i;Z(n)?"default"in n?i=As(n.from||r,n.default,!0):i=As(n.from||r):i=As(n),ae(i)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[r]=i}}function jn(t,e,s){Me(L(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,s)}function Xi(t,e,s,r){let n=r.includes(".")?ho(s,r):()=>s[r];if(ee(t)){const i=e[t];N(i)&&Cs(n,i)}else if(N(t))Cs(n,t.bind(s));else if(Z(t))if(L(t))t.forEach(i=>Xi(i,e,s,r));else{const i=N(t.handler)?t.handler.bind(s):e[t.handler];N(i)&&Cs(n,i,t)}}function un(t){const e=t.type,{mixins:s,extends:r}=e,{mixins:n,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,a=i.get(e);let l;return a?l=a:!n.length&&!s&&!r?l=e:(l={},n.length&&n.forEach(u=>Ls(l,u,o,!0)),Ls(l,e,o)),Z(e)&&i.set(e,l),l}function Ls(t,e,s,r=!1){const{mixins:n,extends:i}=e;i&&Ls(t,i,s,!0),n&&n.forEach(o=>Ls(t,o,s,!0));for(const o in e)if(!(r&&o==="expose")){const a=rl[o]||s&&s[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const rl={data:$n,props:Rn,emits:Rn,methods:zt,computed:zt,beforeCreate:ue,created:ue,beforeMount:ue,mounted:ue,beforeUpdate:ue,updated:ue,beforeDestroy:ue,beforeUnmount:ue,destroyed:ue,unmounted:ue,activated:ue,deactivated:ue,errorCaptured:ue,serverPrefetch:ue,components:zt,directives:zt,watch:il,provide:$n,inject:nl};function $n(t,e){return e?t?function(){return ne(N(t)?t.call(this,this):t,N(e)?e.call(this,this):e)}:e:t}function nl(t,e){return zt(jr(t),jr(e))}function jr(t){if(L(t)){const e={};for(let s=0;s<t.length;s++)e[t[s]]=t[s];return e}return t}function ue(t,e){return t?[...new Set([].concat(t,e))]:e}function zt(t,e){return t?ne(Object.create(null),t,e):e}function Rn(t,e){return t?L(t)&&L(e)?[...new Set([...t,...e])]:ne(Object.create(null),Pn(t),Pn(e??{})):e}function il(t,e){if(!t)return e;if(!e)return t;const s=ne(Object.create(null),t);for(const r in e)s[r]=ue(t[r],e[r]);return s}function Zi(){return{app:null,config:{isNativeTag:mi,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let ol=0;function al(t,e){return function(r,n=null){N(r)||(r=ne({},r)),n!=null&&!Z(n)&&(n=null);const i=Zi(),o=new WeakSet,a=[];let l=!1;const u=i.app={_uid:ol++,_component:r,_props:n,_container:null,_context:i,_instance:null,version:Kl,get config(){return i.config},set config(c){},use(c,...h){return o.has(c)||(c&&N(c.install)?(o.add(c),c.install(u,...h)):N(c)&&(o.add(c),c(u,...h))),u},mixin(c){return i.mixins.includes(c)||i.mixins.push(c),u},component(c,h){return h?(i.components[c]=h,u):i.components[c]},directive(c,h){return h?(i.directives[c]=h,u):i.directives[c]},mount(c,h,g){if(!l){const f=u._ceVNode||Ce(r,n);return f.appContext=i,g===!0?g="svg":g===!1&&(g=void 0),h&&e?e(f,c):t(f,c,g),l=!0,u._container=c,c.__vue_app__=u,pn(f.component)}},onUnmount(c){a.push(c)},unmount(){l&&(Me(a,u._instance,16),t(null,u._container),delete u._container.__vue_app__)},provide(c,h){return i.provides[c]=h,u},runWithContext(c){const h=Ut;Ut=u;try{return c()}finally{Ut=h}}};return u}}let Ut=null;function ll(t,e){if(de){let s=de.provides;const r=de.parent&&de.parent.provides;r===s&&(s=de.provides=Object.create(r)),s[t]=e}}function As(t,e,s=!1){const r=Nl();if(r||Ut){let n=Ut?Ut._context.provides:r?r.parent==null||r.ce?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(n&&t in n)return n[t];if(arguments.length>1)return s&&N(e)?e.call(r&&r.proxy):e}}const eo={},to=()=>Object.create(eo),so=t=>Object.getPrototypeOf(t)===eo;function cl(t,e,s,r=!1){const n={},i=to();t.propsDefaults=Object.create(null),ro(t,e,n,i);for(const o in t.propsOptions[0])o in n||(n[o]=void 0);s?t.props=r?n:xa(n):t.type.props?t.props=n:t.props=i,t.attrs=i}function ul(t,e,s,r){const{props:n,attrs:i,vnode:{patchFlag:o}}=t,a=W(n),[l]=t.propsOptions;let u=!1;if((r||o>0)&&!(o&16)){if(o&8){const c=t.vnode.dynamicProps;for(let h=0;h<c.length;h++){let g=c[h];if(Gs(t.emitsOptions,g))continue;const f=e[g];if(l)if(K(i,g))f!==i[g]&&(i[g]=f,u=!0);else{const v=rt(g);n[v]=$r(l,a,v,f,t,!1)}else f!==i[g]&&(i[g]=f,u=!0)}}}else{ro(t,e,n,i)&&(u=!0);let c;for(const h in a)(!e||!K(e,h)&&((c=yt(h))===h||!K(e,c)))&&(l?s&&(s[h]!==void 0||s[c]!==void 0)&&(n[h]=$r(l,a,h,void 0,t,!0)):delete n[h]);if(i!==a)for(const h in i)(!e||!K(e,h))&&(delete i[h],u=!0)}u&&We(t.attrs,"set","")}function ro(t,e,s,r){const[n,i]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(Gt(l))continue;const u=e[l];let c;n&&K(n,c=rt(l))?!i||!i.includes(c)?s[c]=u:(a||(a={}))[c]=u:Gs(t.emitsOptions,l)||(!(l in r)||u!==r[l])&&(r[l]=u,o=!0)}if(i){const l=W(s),u=a||Q;for(let c=0;c<i.length;c++){const h=i[c];s[h]=$r(n,l,h,u[h],t,!K(u,h))}}return o}function $r(t,e,s,r,n,i){const o=t[s];if(o!=null){const a=K(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&N(l)){const{propsDefaults:u}=n;if(s in u)r=u[s];else{const c=ds(n);r=u[s]=l.call(null,e),c()}}else r=l;n.ce&&n.ce._setProp(s,r)}o[0]&&(i&&!a?r=!1:o[1]&&(r===""||r===yt(s))&&(r=!0))}return r}const hl=new WeakMap;function no(t,e,s=!1){const r=s?hl:e.propsCache,n=r.get(t);if(n)return n;const i=t.props,o={},a=[];let l=!1;if(!N(t)){const c=h=>{l=!0;const[g,f]=no(h,e,!0);ne(o,g),f&&a.push(...f)};!s&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}if(!i&&!l)return Z(t)&&r.set(t,jt),jt;if(L(i))for(let c=0;c<i.length;c++){const h=rt(i[c]);In(h)&&(o[h]=Q)}else if(i)for(const c in i){const h=rt(c);if(In(h)){const g=i[c],f=o[h]=L(g)||N(g)?{type:g}:ne({},g),v=f.type;let S=!1,C=!0;if(L(v))for(let $=0;$<v.length;++$){const I=v[$],O=N(I)&&I.name;if(O==="Boolean"){S=!0;break}else O==="String"&&(C=!1)}else S=N(v)&&v.name==="Boolean";f[0]=S,f[1]=C,(S||K(f,"default"))&&a.push(h)}}const u=[o,a];return Z(t)&&r.set(t,u),u}function In(t){return t[0]!=="$"&&!Gt(t)}const hn=t=>t==="_"||t==="_ctx"||t==="$stable",dn=t=>L(t)?t.map(Le):[Le(t)],dl=(t,e,s)=>{if(e._n)return e;const r=Da((...n)=>dn(e(...n)),s);return r._c=!1,r},io=(t,e,s)=>{const r=t._ctx;for(const n in t){if(hn(n))continue;const i=t[n];if(N(i))e[n]=dl(n,i,r);else if(i!=null){const o=dn(i);e[n]=()=>o}}},oo=(t,e)=>{const s=dn(e);t.slots.default=()=>s},ao=(t,e,s)=>{for(const r in e)(s||!hn(r))&&(t[r]=e[r])},fl=(t,e,s)=>{const r=t.slots=to();if(t.vnode.shapeFlag&32){const n=e._;n?(ao(r,e,s),s&&Ti(r,"_",n,!0)):io(e,r)}else e&&oo(t,e)},pl=(t,e,s)=>{const{vnode:r,slots:n}=t;let i=!0,o=Q;if(r.shapeFlag&32){const a=e._;a?s&&a===1?i=!1:ao(n,e,s):(i=!e.$stable,io(e,n)),o=e}else e&&(oo(t,e),o={default:1});if(i)for(const a in n)!hn(a)&&o[a]==null&&delete n[a]},ye=Al;function gl(t){return _l(t)}function _l(t,e){const s=qs();s.__VUE__=!0;const{insert:r,remove:n,patchProp:i,createElement:o,createText:a,createComment:l,setText:u,setElementText:c,parentNode:h,nextSibling:g,setScopeId:f=Oe,insertStaticContent:v}=t,S=(d,p,_,b=null,m=null,y=null,E=void 0,T=null,x=!!p.dynamicChildren)=>{if(d===p)return;d&&!Kt(d,p)&&(b=bs(d),Pe(d,m,y,!0),d=null),p.patchFlag===-2&&(x=!1,p.dynamicChildren=null);const{type:w,ref:R,shapeFlag:A}=p;switch(w){case Ys:C(d,p,_,b);break;case it:$(d,p,_,b);break;case gr:d==null&&I(p,_,b,E);break;case Ue:vs(d,p,_,b,m,y,E,T,x);break;default:A&1?H(d,p,_,b,m,y,E,T,x):A&6?ms(d,p,_,b,m,y,E,T,x):(A&64||A&128)&&w.process(d,p,_,b,m,y,E,T,x,wt)}R!=null&&m?Xt(R,d&&d.ref,y,p||d,!p):R==null&&d&&d.ref!=null&&Xt(d.ref,null,y,d,!0)},C=(d,p,_,b)=>{if(d==null)r(p.el=a(p.children),_,b);else{const m=p.el=d.el;p.children!==d.children&&u(m,p.children)}},$=(d,p,_,b)=>{d==null?r(p.el=l(p.children||""),_,b):p.el=d.el},I=(d,p,_,b)=>{[d.el,d.anchor]=v(d.children,p,_,b,d.el,d.anchor)},O=({el:d,anchor:p},_,b)=>{let m;for(;d&&d!==p;)m=g(d),r(d,_,b),d=m;r(p,_,b)},k=({el:d,anchor:p})=>{let _;for(;d&&d!==p;)_=g(d),n(d),d=_;n(p)},H=(d,p,_,b,m,y,E,T,x)=>{p.type==="svg"?E="svg":p.type==="math"&&(E="mathml"),d==null?B(p,_,b,m,y,E,T,x):_s(d,p,m,y,E,T,x)},B=(d,p,_,b,m,y,E,T)=>{let x,w;const{props:R,shapeFlag:A,transition:j,dirs:U}=d;if(x=d.el=o(d.type,y,R&&R.is,R),A&8?c(x,d.children):A&16&&Ge(d.children,x,null,b,m,fr(d,y),E,T),U&&ht(d,null,b,"created"),q(x,d,d.scopeId,E,b),R){for(const J in R)J!=="value"&&!Gt(J)&&i(x,J,null,R[J],y,b);"value"in R&&i(x,"value",null,R.value,y),(w=R.onVnodeBeforeMount)&&$e(w,b,d)}U&&ht(d,null,b,"beforeMount");const F=vl(m,j);F&&j.beforeEnter(x),r(x,p,_),((w=R&&R.onVnodeMounted)||F||U)&&ye(()=>{w&&$e(w,b,d),F&&j.enter(x),U&&ht(d,null,b,"mounted")},m)},q=(d,p,_,b,m)=>{if(_&&f(d,_),b)for(let y=0;y<b.length;y++)f(d,b[y]);if(m){let y=m.subTree;if(p===y||po(y.type)&&(y.ssContent===p||y.ssFallback===p)){const E=m.vnode;q(d,E,E.scopeId,E.slotScopeIds,m.parent)}}},Ge=(d,p,_,b,m,y,E,T,x=0)=>{for(let w=x;w<d.length;w++){const R=d[w]=T?Ze(d[w]):Le(d[w]);S(null,R,p,_,b,m,y,E,T)}},_s=(d,p,_,b,m,y,E)=>{const T=p.el=d.el;let{patchFlag:x,dynamicChildren:w,dirs:R}=p;x|=d.patchFlag&16;const A=d.props||Q,j=p.props||Q;let U;if(_&&dt(_,!1),(U=j.onVnodeBeforeUpdate)&&$e(U,_,p,d),R&&ht(p,d,_,"beforeUpdate"),_&&dt(_,!0),(A.innerHTML&&j.innerHTML==null||A.textContent&&j.textContent==null)&&c(T,""),w?lt(d.dynamicChildren,w,T,_,b,fr(p,m),y):E||z(d,p,T,null,_,b,fr(p,m),y,!1),x>0){if(x&16)Bt(T,A,j,_,m);else if(x&2&&A.class!==j.class&&i(T,"class",null,j.class,m),x&4&&i(T,"style",A.style,j.style,m),x&8){const F=p.dynamicProps;for(let J=0;J<F.length;J++){const V=F[J],fe=A[V],ie=j[V];(ie!==fe||V==="value")&&i(T,V,fe,ie,m,_)}}x&1&&d.children!==p.children&&c(T,p.children)}else!E&&w==null&&Bt(T,A,j,_,m);((U=j.onVnodeUpdated)||R)&&ye(()=>{U&&$e(U,_,p,d),R&&ht(p,d,_,"updated")},b)},lt=(d,p,_,b,m,y,E)=>{for(let T=0;T<p.length;T++){const x=d[T],w=p[T],R=x.el&&(x.type===Ue||!Kt(x,w)||x.shapeFlag&198)?h(x.el):_;S(x,w,R,null,b,m,y,E,!0)}},Bt=(d,p,_,b,m)=>{if(p!==_){if(p!==Q)for(const y in p)!Gt(y)&&!(y in _)&&i(d,y,p[y],null,m,b);for(const y in _){if(Gt(y))continue;const E=_[y],T=p[y];E!==T&&y!=="value"&&i(d,y,T,E,m,b)}"value"in _&&i(d,"value",p.value,_.value,m)}},vs=(d,p,_,b,m,y,E,T,x)=>{const w=p.el=d?d.el:a(""),R=p.anchor=d?d.anchor:a("");let{patchFlag:A,dynamicChildren:j,slotScopeIds:U}=p;U&&(T=T?T.concat(U):U),d==null?(r(w,_,b),r(R,_,b),Ge(p.children||[],_,R,m,y,E,T,x)):A>0&&A&64&&j&&d.dynamicChildren?(lt(d.dynamicChildren,j,_,m,y,E,T),(p.key!=null||m&&p===m.subTree)&&lo(d,p,!0)):z(d,p,_,R,m,y,E,T,x)},ms=(d,p,_,b,m,y,E,T,x)=>{p.slotScopeIds=T,d==null?p.shapeFlag&512?m.ctx.activate(p,_,b,E,x):sr(p,_,b,m,y,E,x):bn(d,p,x)},sr=(d,p,_,b,m,y,E)=>{const T=d.component=Dl(d,b,m);if(Yi(d)&&(T.ctx.renderer=wt),Ml(T,!1,E),T.asyncDep){if(m&&m.registerDep(T,le,E),!d.el){const x=T.subTree=Ce(it);$(null,x,p,_),d.placeholder=x.el}}else le(T,d,p,_,m,y,E)},bn=(d,p,_)=>{const b=p.component=d.component;if(El(d,p,_))if(b.asyncDep&&!b.asyncResolved){X(b,p,_);return}else b.next=p,b.update();else p.el=d.el,b.vnode=p},le=(d,p,_,b,m,y,E)=>{const T=()=>{if(d.isMounted){let{next:A,bu:j,u:U,parent:F,vnode:J}=d;{const ve=co(d);if(ve){A&&(A.el=J.el,X(d,A,E)),ve.asyncDep.then(()=>{d.isUnmounted||T()});return}}let V=A,fe;dt(d,!1),A?(A.el=J.el,X(d,A,E)):A=J,j&&ar(j),(fe=A.props&&A.props.onVnodeBeforeUpdate)&&$e(fe,F,A,J),dt(d,!0);const ie=pr(d),Te=d.subTree;d.subTree=ie,S(Te,ie,h(Te.el),bs(Te),d,m,y),A.el=ie.el,V===null&&Ol(d,ie.el),U&&ye(U,m),(fe=A.props&&A.props.onVnodeUpdated)&&ye(()=>$e(fe,F,A,J),m)}else{let A;const{el:j,props:U}=p,{bm:F,m:J,parent:V,root:fe,type:ie}=d,Te=Zt(p);if(dt(d,!1),F&&ar(F),!Te&&(A=U&&U.onVnodeBeforeMount)&&$e(A,V,p),dt(d,!0),j&&ir){const ve=()=>{d.subTree=pr(d),ir(j,d.subTree,d,m,null)};Te&&ie.__asyncHydrate?ie.__asyncHydrate(j,d,ve):ve()}else{fe.ce&&fe.ce._def.shadowRoot!==!1&&fe.ce._injectChildStyle(ie);const ve=d.subTree=pr(d);S(null,ve,_,b,d,m,y),p.el=ve.el}if(J&&ye(J,m),!Te&&(A=U&&U.onVnodeMounted)){const ve=p;ye(()=>$e(A,V,ve),m)}(p.shapeFlag&256||V&&Zt(V.vnode)&&V.vnode.shapeFlag&256)&&d.a&&ye(d.a,m),d.isMounted=!0,p=_=b=null}};d.scope.on();const x=d.effect=new Ai(T);d.scope.off();const w=d.update=x.run.bind(x),R=d.job=x.runIfDirty.bind(x);R.i=d,R.id=d.uid,x.scheduler=()=>on(R),dt(d,!0),w()},X=(d,p,_)=>{p.component=d;const b=d.vnode.props;d.vnode=p,d.next=null,ul(d,p.props,b,_),pl(d,p.children,_),Ve(),Cn(d),ze()},z=(d,p,_,b,m,y,E,T,x=!1)=>{const w=d&&d.children,R=d?d.shapeFlag:0,A=p.children,{patchFlag:j,shapeFlag:U}=p;if(j>0){if(j&128){ys(w,A,_,b,m,y,E,T,x);return}else if(j&256){ct(w,A,_,b,m,y,E,T,x);return}}U&8?(R&16&&Ht(w,m,y),A!==w&&c(_,A)):R&16?U&16?ys(w,A,_,b,m,y,E,T,x):Ht(w,m,y,!0):(R&8&&c(_,""),U&16&&Ge(A,_,b,m,y,E,T,x))},ct=(d,p,_,b,m,y,E,T,x)=>{d=d||jt,p=p||jt;const w=d.length,R=p.length,A=Math.min(w,R);let j;for(j=0;j<A;j++){const U=p[j]=x?Ze(p[j]):Le(p[j]);S(d[j],U,_,null,m,y,E,T,x)}w>R?Ht(d,m,y,!0,!1,A):Ge(p,_,b,m,y,E,T,x,A)},ys=(d,p,_,b,m,y,E,T,x)=>{let w=0;const R=p.length;let A=d.length-1,j=R-1;for(;w<=A&&w<=j;){const U=d[w],F=p[w]=x?Ze(p[w]):Le(p[w]);if(Kt(U,F))S(U,F,_,null,m,y,E,T,x);else break;w++}for(;w<=A&&w<=j;){const U=d[A],F=p[j]=x?Ze(p[j]):Le(p[j]);if(Kt(U,F))S(U,F,_,null,m,y,E,T,x);else break;A--,j--}if(w>A){if(w<=j){const U=j+1,F=U<R?p[U].el:b;for(;w<=j;)S(null,p[w]=x?Ze(p[w]):Le(p[w]),_,F,m,y,E,T,x),w++}}else if(w>j)for(;w<=A;)Pe(d[w],m,y,!0),w++;else{const U=w,F=w,J=new Map;for(w=F;w<=j;w++){const me=p[w]=x?Ze(p[w]):Le(p[w]);me.key!=null&&J.set(me.key,w)}let V,fe=0;const ie=j-F+1;let Te=!1,ve=0;const qt=new Array(ie);for(w=0;w<ie;w++)qt[w]=0;for(w=U;w<=A;w++){const me=d[w];if(fe>=ie){Pe(me,m,y,!0);continue}let je;if(me.key!=null)je=J.get(me.key);else for(V=F;V<=j;V++)if(qt[V-F]===0&&Kt(me,p[V])){je=V;break}je===void 0?Pe(me,m,y,!0):(qt[je-F]=w+1,je>=ve?ve=je:Te=!0,S(me,p[je],_,null,m,y,E,T,x),fe++)}const xn=Te?ml(qt):jt;for(V=xn.length-1,w=ie-1;w>=0;w--){const me=F+w,je=p[me],Tn=p[me+1],kn=me+1<R?Tn.el||Tn.placeholder:b;qt[w]===0?S(null,je,_,kn,m,y,E,T,x):Te&&(V<0||w!==xn[V]?ut(je,_,kn,2):V--)}}},ut=(d,p,_,b,m=null)=>{const{el:y,type:E,transition:T,children:x,shapeFlag:w}=d;if(w&6){ut(d.component.subTree,p,_,b);return}if(w&128){d.suspense.move(p,_,b);return}if(w&64){E.move(d,p,_,wt);return}if(E===Ue){r(y,p,_);for(let A=0;A<x.length;A++)ut(x[A],p,_,b);r(d.anchor,p,_);return}if(E===gr){O(d,p,_);return}if(b!==2&&w&1&&T)if(b===0)T.beforeEnter(y),r(y,p,_),ye(()=>T.enter(y),m);else{const{leave:A,delayLeave:j,afterLeave:U}=T,F=()=>{d.ctx.isUnmounted?n(y):r(y,p,_)},J=()=>{y._isLeaving&&y[Fa](!0),A(y,()=>{F(),U&&U()})};j?j(y,F,J):J()}else r(y,p,_)},Pe=(d,p,_,b=!1,m=!1)=>{const{type:y,props:E,ref:T,children:x,dynamicChildren:w,shapeFlag:R,patchFlag:A,dirs:j,cacheIndex:U}=d;if(A===-2&&(m=!1),T!=null&&(Ve(),Xt(T,null,_,d,!0),ze()),U!=null&&(p.renderCache[U]=void 0),R&256){p.ctx.deactivate(d);return}const F=R&1&&j,J=!Zt(d);let V;if(J&&(V=E&&E.onVnodeBeforeUnmount)&&$e(V,p,d),R&6)Ko(d.component,_,b);else{if(R&128){d.suspense.unmount(_,b);return}F&&ht(d,null,p,"beforeUnmount"),R&64?d.type.remove(d,p,_,wt,b):w&&!w.hasOnce&&(y!==Ue||A>0&&A&64)?Ht(w,p,_,!1,!0):(y===Ue&&A&384||!m&&R&16)&&Ht(x,p,_),b&&wn(d)}(J&&(V=E&&E.onVnodeUnmounted)||F)&&ye(()=>{V&&$e(V,p,d),F&&ht(d,null,p,"unmounted")},_)},wn=d=>{const{type:p,el:_,anchor:b,transition:m}=d;if(p===Ue){Wo(_,b);return}if(p===gr){k(d);return}const y=()=>{n(_),m&&!m.persisted&&m.afterLeave&&m.afterLeave()};if(d.shapeFlag&1&&m&&!m.persisted){const{leave:E,delayLeave:T}=m,x=()=>E(_,y);T?T(d.el,y,x):x()}else y()},Wo=(d,p)=>{let _;for(;d!==p;)_=g(d),n(d),d=_;n(p)},Ko=(d,p,_)=>{const{bum:b,scope:m,job:y,subTree:E,um:T,m:x,a:w}=d;Un(x),Un(w),b&&ar(b),m.stop(),y&&(y.flags|=8,Pe(E,d,p,_)),T&&ye(T,p),ye(()=>{d.isUnmounted=!0},p)},Ht=(d,p,_,b=!1,m=!1,y=0)=>{for(let E=y;E<d.length;E++)Pe(d[E],p,_,b,m)},bs=d=>{if(d.shapeFlag&6)return bs(d.component.subTree);if(d.shapeFlag&128)return d.suspense.next();const p=g(d.anchor||d.el),_=p&&p[Na];return _?g(_):p};let rr=!1;const Sn=(d,p,_)=>{d==null?p._vnode&&Pe(p._vnode,null,null,!0):S(p._vnode||null,d,p,null,null,null,_),p._vnode=d,rr||(rr=!0,Cn(),Vi(),rr=!1)},wt={p:S,um:Pe,m:ut,r:wn,mt:sr,mc:Ge,pc:z,pbc:lt,n:bs,o:t};let nr,ir;return e&&([nr,ir]=e(wt)),{render:Sn,hydrate:nr,createApp:al(Sn,nr)}}function fr({type:t,props:e},s){return s==="svg"&&t==="foreignObject"||s==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:s}function dt({effect:t,job:e},s){s?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function vl(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function lo(t,e,s=!1){const r=t.children,n=e.children;if(L(r)&&L(n))for(let i=0;i<r.length;i++){const o=r[i];let a=n[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=n[i]=Ze(n[i]),a.el=o.el),!s&&a.patchFlag!==-2&&lo(o,a)),a.type===Ys&&a.patchFlag!==-1&&(a.el=o.el),a.type===it&&!a.el&&(a.el=o.el)}}function ml(t){const e=t.slice(),s=[0];let r,n,i,o,a;const l=t.length;for(r=0;r<l;r++){const u=t[r];if(u!==0){if(n=s[s.length-1],t[n]<u){e[r]=n,s.push(r);continue}for(i=0,o=s.length-1;i<o;)a=i+o>>1,t[s[a]]<u?i=a+1:o=a;u<t[s[i]]&&(i>0&&(e[r]=s[i-1]),s[i]=r)}}for(i=s.length,o=s[i-1];i-- >0;)s[i]=o,o=e[o];return s}function co(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:co(e)}function Un(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const yl=Symbol.for("v-scx"),bl=()=>As(yl);function Cs(t,e,s){return uo(t,e,s)}function uo(t,e,s=Q){const{immediate:r,deep:n,flush:i,once:o}=s,a=ne({},s),l=e&&r||!e&&i!=="post";let u;if(cs){if(i==="sync"){const f=bl();u=f.__watcherHandles||(f.__watcherHandles=[])}else if(!l){const f=()=>{};return f.stop=Oe,f.resume=Oe,f.pause=Oe,f}}const c=de;a.call=(f,v,S)=>Me(f,c,v,S);let h=!1;i==="post"?a.scheduler=f=>{ye(f,c&&c.suspense)}:i!=="sync"&&(h=!0,a.scheduler=(f,v)=>{v?f():on(f)}),a.augmentJob=f=>{e&&(f.flags|=4),h&&(f.flags|=2,c&&(f.id=c.uid,f.i=c))};const g=$a(t,e,a);return cs&&(u?u.push(g):l&&g()),g}function wl(t,e,s){const r=this.proxy,n=ee(t)?t.includes(".")?ho(r,t):()=>r[t]:t.bind(r,r);let i;N(e)?i=e:(i=e.handler,s=e);const o=ds(this),a=uo(n,i.bind(r),s);return o(),a}function ho(t,e){const s=e.split(".");return()=>{let r=t;for(let n=0;n<s.length&&r;n++)r=r[s[n]];return r}}const Sl=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${rt(e)}Modifiers`]||t[`${yt(e)}Modifiers`];function xl(t,e,...s){if(t.isUnmounted)return;const r=t.vnode.props||Q;let n=s;const i=e.startsWith("update:"),o=i&&Sl(r,e.slice(7));o&&(o.trim&&(n=s.map(c=>ee(c)?c.trim():c)),o.number&&(n=s.map(Yo)));let a,l=r[a=or(e)]||r[a=or(rt(e))];!l&&i&&(l=r[a=or(yt(e))]),l&&Me(l,t,6,n);const u=r[a+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,Me(u,t,6,n)}}function fo(t,e,s=!1){const r=e.emitsCache,n=r.get(t);if(n!==void 0)return n;const i=t.emits;let o={},a=!1;if(!N(t)){const l=u=>{const c=fo(u,e,!0);c&&(a=!0,ne(o,c))};!s&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!i&&!a?(Z(t)&&r.set(t,null),null):(L(i)?i.forEach(l=>o[l]=null):ne(o,i),Z(t)&&r.set(t,o),o)}function Gs(t,e){return!t||!Fs(e)?!1:(e=e.slice(2).replace(/Once$/,""),K(t,e[0].toLowerCase()+e.slice(1))||K(t,yt(e))||K(t,e))}function pr(t){const{type:e,vnode:s,proxy:r,withProxy:n,propsOptions:[i],slots:o,attrs:a,emit:l,render:u,renderCache:c,props:h,data:g,setupState:f,ctx:v,inheritAttrs:S}=t,C=Us(t);let $,I;try{if(s.shapeFlag&4){const k=n||r,H=k;$=Le(u.call(H,k,c,h,f,g,v)),I=a}else{const k=e;$=Le(k.length>1?k(h,{attrs:a,slots:o,emit:l}):k(h,null)),I=e.props?a:Tl(a)}}catch(k){ts.length=0,zs(k,t,1),$=Ce(it)}let O=$;if(I&&S!==!1){const k=Object.keys(I),{shapeFlag:H}=O;k.length&&H&7&&(i&&k.some(Jr)&&(I=kl(I,i)),O=Dt(O,I,!1,!0))}return s.dirs&&(O=Dt(O,null,!1,!0),O.dirs=O.dirs?O.dirs.concat(s.dirs):s.dirs),s.transition&&an(O,s.transition),$=O,Us(C),$}const Tl=t=>{let e;for(const s in t)(s==="class"||s==="style"||Fs(s))&&((e||(e={}))[s]=t[s]);return e},kl=(t,e)=>{const s={};for(const r in t)(!Jr(r)||!(r.slice(9)in e))&&(s[r]=t[r]);return s};function El(t,e,s){const{props:r,children:n,component:i}=t,{props:o,children:a,patchFlag:l}=e,u=i.emitsOptions;if(e.dirs||e.transition)return!0;if(s&&l>=0){if(l&1024)return!0;if(l&16)return r?Ln(r,o,u):!!o;if(l&8){const c=e.dynamicProps;for(let h=0;h<c.length;h++){const g=c[h];if(o[g]!==r[g]&&!Gs(u,g))return!0}}}else return(n||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?Ln(r,o,u):!0:!!o;return!1}function Ln(t,e,s){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let n=0;n<r.length;n++){const i=r[n];if(e[i]!==t[i]&&!Gs(s,i))return!0}return!1}function Ol({vnode:t,parent:e},s){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=s,e=e.parent;else break}}const po=t=>t.__isSuspense;function Al(t,e){e&&e.pendingBranch?L(t)?e.effects.push(...t):e.effects.push(t):La(t)}const Ue=Symbol.for("v-fgt"),Ys=Symbol.for("v-txt"),it=Symbol.for("v-cmt"),gr=Symbol.for("v-stc"),ts=[];let we=null;function ge(t=!1){ts.push(we=t?null:[])}function Cl(){ts.pop(),we=ts[ts.length-1]||null}let ls=1;function Dn(t,e=!1){ls+=t,t<0&&we&&e&&(we.hasOnce=!0)}function go(t){return t.dynamicChildren=ls>0?we||jt:null,Cl(),ls>0&&we&&we.push(t),t}function be(t,e,s,r,n,i){return go(P(t,e,s,r,n,i,!0))}function Pl(t,e,s,r,n){return go(Ce(t,e,s,r,n,!0))}function _o(t){return t?t.__v_isVNode===!0:!1}function Kt(t,e){return t.type===e.type&&t.key===e.key}const vo=({key:t})=>t??null,Ps=({ref:t,ref_key:e,ref_for:s})=>(typeof t=="number"&&(t=""+t),t!=null?ee(t)||ae(t)||N(t)?{i:Ne,r:t,k:e,f:!!s}:t:null);function P(t,e=null,s=null,r=0,n=null,i=t===Ue?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&vo(e),ref:e&&Ps(e),scopeId:Ji,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:Ne};return a?(fn(l,s),i&128&&t.normalize(l)):s&&(l.shapeFlag|=ee(s)?8:16),ls>0&&!o&&we&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&we.push(l),l}const Ce=jl;function jl(t,e=null,s=null,r=0,n=null,i=!1){if((!t||t===Xa)&&(t=it),_o(t)){const a=Dt(t,e,!0);return s&&fn(a,s),ls>0&&!i&&we&&(a.shapeFlag&6?we[we.indexOf(t)]=a:we.push(a)),a.patchFlag=-2,a}if(ql(t)&&(t=t.__vccOpts),e){e=$l(e);let{class:a,style:l}=e;a&&!ee(a)&&(e.class=Ks(a)),Z(l)&&(nn(l)&&!L(l)&&(l=ne({},l)),e.style=Ws(l))}const o=ee(t)?1:po(t)?128:Ma(t)?64:Z(t)?4:N(t)?2:0;return P(t,e,s,r,n,o,i,!0)}function $l(t){return t?nn(t)||so(t)?ne({},t):t:null}function Dt(t,e,s=!1,r=!1){const{props:n,ref:i,patchFlag:o,children:a,transition:l}=t,u=e?Il(n||{},e):n,c={__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&vo(u),ref:e&&e.ref?s&&i?L(i)?i.concat(Ps(e)):[i,Ps(e)]:Ps(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Ue?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Dt(t.ssContent),ssFallback:t.ssFallback&&Dt(t.ssFallback),placeholder:t.placeholder,el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&r&&an(c,l.clone(c)),c}function Rl(t=" ",e=0){return Ce(Ys,null,t,e)}function Rr(t="",e=!1){return e?(ge(),Pl(it,null,t)):Ce(it,null,t)}function Le(t){return t==null||typeof t=="boolean"?Ce(it):L(t)?Ce(Ue,null,t.slice()):_o(t)?Ze(t):Ce(Ys,null,String(t))}function Ze(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Dt(t)}function fn(t,e){let s=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(L(e))s=16;else if(typeof e=="object")if(r&65){const n=e.default;n&&(n._c&&(n._d=!1),fn(t,n()),n._c&&(n._d=!0));return}else{s=32;const n=e._;!n&&!so(e)?e._ctx=Ne:n===3&&Ne&&(Ne.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else N(e)?(e={default:e,_ctx:Ne},s=32):(e=String(e),r&64?(s=16,e=[Rl(e)]):s=8);t.children=e,t.shapeFlag|=s}function Il(...t){const e={};for(let s=0;s<t.length;s++){const r=t[s];for(const n in r)if(n==="class")e.class!==r.class&&(e.class=Ks([e.class,r.class]));else if(n==="style")e.style=Ws([e.style,r.style]);else if(Fs(n)){const i=e[n],o=r[n];o&&i!==o&&!(L(i)&&i.includes(o))&&(e[n]=i?[].concat(i,o):o)}else n!==""&&(e[n]=r[n])}return e}function $e(t,e,s,r=null){Me(t,e,7,[s,r])}const Ul=Zi();let Ll=0;function Dl(t,e,s){const r=t.type,n=(e?e.appContext:t.appContext)||Ul,i={uid:Ll++,vnode:t,type:r,parent:e,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new ra(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(n.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:no(r,n),emitsOptions:fo(r,n),emit:null,emitted:null,propsDefaults:Q,inheritAttrs:r.inheritAttrs,ctx:Q,data:Q,props:Q,attrs:Q,slots:Q,refs:Q,setupState:Q,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=xl.bind(null,i),t.ce&&t.ce(i),i}let de=null;const Nl=()=>de||Ne;let Ds,Ir;{const t=qs(),e=(s,r)=>{let n;return(n=t[s])||(n=t[s]=[]),n.push(r),i=>{n.length>1?n.forEach(o=>o(i)):n[0](i)}};Ds=e("__VUE_INSTANCE_SETTERS__",s=>de=s),Ir=e("__VUE_SSR_SETTERS__",s=>cs=s)}const ds=t=>{const e=de;return Ds(t),t.scope.on(),()=>{t.scope.off(),Ds(e)}},Nn=()=>{de&&de.scope.off(),Ds(null)};function mo(t){return t.vnode.shapeFlag&4}let cs=!1;function Ml(t,e=!1,s=!1){e&&Ir(e);const{props:r,children:n}=t.vnode,i=mo(t);cl(t,r,i,e),fl(t,n,s||e);const o=i?Fl(t,e):void 0;return e&&Ir(!1),o}function Fl(t,e){const s=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,el);const{setup:r}=s;if(r){Ve();const n=t.setupContext=r.length>1?Hl(t):null,i=ds(t),o=hs(r,t,0,[t.props,n]),a=bi(o);if(ze(),i(),(a||t.sp)&&!Zt(t)&&Gi(t),a){if(o.then(Nn,Nn),e)return o.then(l=>{Mn(t,l,e)}).catch(l=>{zs(l,t,0)});t.asyncDep=o}else Mn(t,o,e)}else yo(t,e)}function Mn(t,e,s){N(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Z(e)&&(t.setupState=qi(e)),yo(t,s)}let Fn;function yo(t,e,s){const r=t.type;if(!t.render){if(!e&&Fn&&!r.render){const n=r.template||un(t).template;if(n){const{isCustomElement:i,compilerOptions:o}=t.appContext.config,{delimiters:a,compilerOptions:l}=r,u=ne(ne({isCustomElement:i,delimiters:a},o),l);r.render=Fn(n,u)}}t.render=r.render||Oe}{const n=ds(t);Ve();try{tl(t)}finally{ze(),n()}}}const Bl={get(t,e){return oe(t,"get",""),t[e]}};function Hl(t){const e=s=>{t.exposed=s||{}};return{attrs:new Proxy(t.attrs,Bl),slots:t.slots,emit:t.emit,expose:e}}function pn(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(qi(Ta(t.exposed)),{get(e,s){if(s in e)return e[s];if(s in es)return es[s](t)},has(e,s){return s in e||s in es}})):t.proxy}function ql(t){return N(t)&&"__vccOpts"in t}const Wl=(t,e)=>Pa(t,e,cs),Kl="3.5.19";/**
* @vue/runtime-dom v3.5.19
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ur;const Bn=typeof window<"u"&&window.trustedTypes;if(Bn)try{Ur=Bn.createPolicy("vue",{createHTML:t=>t})}catch{}const bo=Ur?t=>Ur.createHTML(t):t=>t,Vl="http://www.w3.org/2000/svg",zl="http://www.w3.org/1998/Math/MathML",He=typeof document<"u"?document:null,Hn=He&&He.createElement("template"),Jl={insert:(t,e,s)=>{e.insertBefore(t,s||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,s,r)=>{const n=e==="svg"?He.createElementNS(Vl,t):e==="mathml"?He.createElementNS(zl,t):s?He.createElement(t,{is:s}):He.createElement(t);return t==="select"&&r&&r.multiple!=null&&n.setAttribute("multiple",r.multiple),n},createText:t=>He.createTextNode(t),createComment:t=>He.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>He.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,s,r,n,i){const o=s?s.previousSibling:e.lastChild;if(n&&(n===i||n.nextSibling))for(;e.insertBefore(n.cloneNode(!0),s),!(n===i||!(n=n.nextSibling)););else{Hn.innerHTML=bo(r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t);const a=Hn.content;if(r==="svg"||r==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,s)}return[o?o.nextSibling:e.firstChild,s?s.previousSibling:e.lastChild]}},Gl=Symbol("_vtc");function Yl(t,e,s){const r=t[Gl];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):s?t.setAttribute("class",e):t.className=e}const qn=Symbol("_vod"),Ql=Symbol("_vsh"),Xl=Symbol(""),Zl=/(^|;)\s*display\s*:/;function ec(t,e,s){const r=t.style,n=ee(s);let i=!1;if(s&&!n){if(e)if(ee(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();s[a]==null&&js(r,a,"")}else for(const o in e)s[o]==null&&js(r,o,"");for(const o in s)o==="display"&&(i=!0),js(r,o,s[o])}else if(n){if(e!==s){const o=r[Xl];o&&(s+=";"+o),r.cssText=s,i=Zl.test(s)}}else e&&t.removeAttribute("style");qn in t&&(t[qn]=i?r.display:"",t[Ql]&&(r.display="none"))}const Wn=/\s*!important$/;function js(t,e,s){if(L(s))s.forEach(r=>js(t,e,r));else if(s==null&&(s=""),e.startsWith("--"))t.setProperty(e,s);else{const r=tc(t,e);Wn.test(s)?t.setProperty(yt(r),s.replace(Wn,""),"important"):t[r]=s}}const Kn=["Webkit","Moz","ms"],_r={};function tc(t,e){const s=_r[e];if(s)return s;let r=rt(e);if(r!=="filter"&&r in t)return _r[e]=r;r=xi(r);for(let n=0;n<Kn.length;n++){const i=Kn[n]+r;if(i in t)return _r[e]=i}return e}const Vn="http://www.w3.org/1999/xlink";function zn(t,e,s,r,n,i=sa(e)){r&&e.startsWith("xlink:")?s==null?t.removeAttributeNS(Vn,e.slice(6,e.length)):t.setAttributeNS(Vn,e,s):s==null||i&&!ki(s)?t.removeAttribute(e):t.setAttribute(e,i?"":ot(s)?String(s):s)}function Jn(t,e,s,r,n){if(e==="innerHTML"||e==="textContent"){s!=null&&(t[e]=e==="innerHTML"?bo(s):s);return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const a=i==="OPTION"?t.getAttribute("value")||"":t.value,l=s==null?t.type==="checkbox"?"on":"":String(s);(a!==l||!("_value"in t))&&(t.value=l),s==null&&t.removeAttribute(e),t._value=s;return}let o=!1;if(s===""||s==null){const a=typeof t[e];a==="boolean"?s=ki(s):s==null&&a==="string"?(s="",o=!0):a==="number"&&(s=0,o=!0)}try{t[e]=s}catch{}o&&t.removeAttribute(n||e)}function sc(t,e,s,r){t.addEventListener(e,s,r)}function rc(t,e,s,r){t.removeEventListener(e,s,r)}const Gn=Symbol("_vei");function nc(t,e,s,r,n=null){const i=t[Gn]||(t[Gn]={}),o=i[e];if(r&&o)o.value=r;else{const[a,l]=ic(e);if(r){const u=i[e]=lc(r,n);sc(t,a,u,l)}else o&&(rc(t,a,o,l),i[e]=void 0)}}const Yn=/(?:Once|Passive|Capture)$/;function ic(t){let e;if(Yn.test(t)){e={};let r;for(;r=t.match(Yn);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):yt(t.slice(2)),e]}let vr=0;const oc=Promise.resolve(),ac=()=>vr||(oc.then(()=>vr=0),vr=Date.now());function lc(t,e){const s=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=s.attached)return;Me(cc(r,s.value),e,5,[r])};return s.value=t,s.attached=ac(),s}function cc(t,e){if(L(e)){const s=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{s.call(t),t._stopped=!0},e.map(r=>n=>!n._stopped&&r&&r(n))}else return e}const Qn=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,uc=(t,e,s,r,n,i)=>{const o=n==="svg";e==="class"?Yl(t,r,o):e==="style"?ec(t,s,r):Fs(e)?Jr(e)||nc(t,e,s,r,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):hc(t,e,r,o))?(Jn(t,e,r),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&zn(t,e,r,o,i,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!ee(r))?Jn(t,rt(e),r,i,e):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),zn(t,e,r,o))};function hc(t,e,s,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&Qn(e)&&N(s));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const n=t.tagName;if(n==="IMG"||n==="VIDEO"||n==="CANVAS"||n==="SOURCE")return!1}return Qn(e)&&ee(s)?!1:e in t}const dc=["ctrl","shift","alt","meta"],fc={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>dc.some(s=>t[`${s}Key`]&&!e.includes(s))},Xn=(t,e)=>{const s=t._withMods||(t._withMods={}),r=e.join(".");return s[r]||(s[r]=(n,...i)=>{for(let o=0;o<e.length;o++){const a=fc[e[o]];if(a&&a(n,e))return}return t(n,...i)})},pc=ne({patchProp:uc},Jl);let Zn;function gc(){return Zn||(Zn=gl(pc))}const _c=(...t)=>{const e=gc().createApp(...t),{mount:s}=e;return e.mount=r=>{const n=mc(r);if(!n)return;const i=e._component;!N(i)&&!i.render&&!i.template&&(i.template=n.innerHTML),n.nodeType===1&&(n.textContent="");const o=s(n,!1,vc(n));return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),o},e};function vc(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function mc(t){return ee(t)?document.querySelector(t):t}const yc="modulepreload",bc=function(t){return"/"+t},ei={},fs=function(e,s,r){if(!s||s.length===0)return e();const n=document.getElementsByTagName("link");return Promise.all(s.map(i=>{if(i=bc(i),i in ei)return;ei[i]=!0;const o=i.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!r)for(let c=n.length-1;c>=0;c--){const h=n[c];if(h.href===i&&(!o||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${a}`))return;const u=document.createElement("link");if(u.rel=o?"stylesheet":yc,o||(u.as="script",u.crossOrigin=""),u.href=i,document.head.appendChild(u),o)return new Promise((c,h)=>{u.addEventListener("load",c),u.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>e()).catch(i=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i})},wc=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>fs(()=>Promise.resolve().then(()=>Mt),void 0).then(({default:r})=>r(...s)):e=fetch,(...s)=>e(...s)};class gn extends Error{constructor(e,s="FunctionsError",r){super(e),this.name=s,this.context=r}}class Sc extends gn{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class ti extends gn{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class si extends gn{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Lr;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Lr||(Lr={}));var xc=globalThis&&globalThis.__awaiter||function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class Tc{constructor(e,{headers:s={},customFetch:r,region:n=Lr.Any}={}){this.url=e,this.headers=s,this.region=n,this.fetch=wc(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,s={}){var r;return xc(this,void 0,void 0,function*(){try{const{headers:n,method:i,body:o}=s;let a={},{region:l}=s;l||(l=this.region);const u=new URL(`${this.url}/${e}`);l&&l!=="any"&&(a["x-region"]=l,u.searchParams.set("forceFunctionRegion",l));let c;o&&(n&&!Object.prototype.hasOwnProperty.call(n,"Content-Type")||!n)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=o):typeof o=="string"?(a["Content-Type"]="text/plain",c=o):typeof FormData<"u"&&o instanceof FormData?c=o:(a["Content-Type"]="application/json",c=JSON.stringify(o)));const h=yield this.fetch(u.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),n),body:c}).catch(S=>{throw new Sc(S)}),g=h.headers.get("x-relay-error");if(g&&g==="true")throw new ti(h);if(!h.ok)throw new si(h);let f=((r=h.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),v;return f==="application/json"?v=yield h.json():f==="application/octet-stream"?v=yield h.blob():f==="text/event-stream"?v=h:f==="multipart/form-data"?v=yield h.formData():v=yield h.text(),{data:v,error:null,response:h}}catch(n){return{data:null,error:n,response:n instanceof si||n instanceof ti?n.context:void 0}}})}}var xe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function kc(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var s=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};s.prototype=e.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(s,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}),s}var _e={},_n={},Qs={},ps={},Xs={},Zs={},Ec=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Nt=Ec();const Oc=Nt.fetch,wo=Nt.fetch.bind(Nt),So=Nt.Headers,Ac=Nt.Request,Cc=Nt.Response,Mt=Object.freeze(Object.defineProperty({__proto__:null,Headers:So,Request:Ac,Response:Cc,default:wo,fetch:Oc},Symbol.toStringTag,{value:"Module"})),Pc=kc(Mt);var er={};Object.defineProperty(er,"__esModule",{value:!0});let jc=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};er.default=jc;var xo=xe&&xe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Zs,"__esModule",{value:!0});const $c=xo(Pc),Rc=xo(er);let Ic=class{constructor(e){var s,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(s=e.shouldThrowOnError)!==null&&s!==void 0?s:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=$c.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,s){return this.headers=new Headers(this.headers),this.headers.set(e,s),this}then(e,s){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let n=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,l,u;let c=null,h=null,g=null,f=i.status,v=i.statusText;if(i.ok){if(this.method!=="HEAD"){const I=await i.text();I===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((o=this.headers.get("Accept"))===null||o===void 0)&&o.includes("application/vnd.pgrst.plan+text"))?h=I:h=JSON.parse(I))}const C=(a=this.headers.get("Prefer"))===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),$=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");C&&$&&$.length>1&&(g=parseInt($[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(h)&&(h.length>1?(c={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,g=null,f=406,v="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{const C=await i.text();try{c=JSON.parse(C),Array.isArray(c)&&i.status===404&&(h=[],c=null,f=200,v="OK")}catch{i.status===404&&C===""?(f=204,v="No Content"):c={message:C}}if(c&&this.isMaybeSingle&&(!((u=c==null?void 0:c.details)===null||u===void 0)&&u.includes("0 rows"))&&(c=null,f=200,v="OK"),c&&this.shouldThrowOnError)throw new Rc.default(c)}return{error:c,data:h,count:g,status:f,statusText:v}});return this.shouldThrowOnError||(n=n.catch(i=>{var o,a,l;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),n.then(e,s)}returns(){return this}overrideTypes(){return this}};Zs.default=Ic;var Uc=xe&&xe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Xs,"__esModule",{value:!0});const Lc=Uc(Zs);let Dc=class extends Lc.default{select(e){let s=!1;const r=(e??"*").split("").map(n=>/\s/.test(n)&&!s?"":(n==='"'&&(s=!s),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:s=!0,nullsFirst:r,foreignTable:n,referencedTable:i=n}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${s?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:s,referencedTable:r=s}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,s,{foreignTable:r,referencedTable:n=r}={}){const i=typeof n>"u"?"offset":`${n}.offset`,o=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${s-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:s=!1,settings:r=!1,buffers:n=!1,wal:i=!1,format:o="text"}={}){var a;const l=[e?"analyze":null,s?"verbose":null,r?"settings":null,n?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${u}"; options=${l};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};Xs.default=Dc;var Nc=xe&&xe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ps,"__esModule",{value:!0});const Mc=Nc(Xs);let Fc=class extends Mc.default{eq(e,s){return this.url.searchParams.append(e,`eq.${s}`),this}neq(e,s){return this.url.searchParams.append(e,`neq.${s}`),this}gt(e,s){return this.url.searchParams.append(e,`gt.${s}`),this}gte(e,s){return this.url.searchParams.append(e,`gte.${s}`),this}lt(e,s){return this.url.searchParams.append(e,`lt.${s}`),this}lte(e,s){return this.url.searchParams.append(e,`lte.${s}`),this}like(e,s){return this.url.searchParams.append(e,`like.${s}`),this}likeAllOf(e,s){return this.url.searchParams.append(e,`like(all).{${s.join(",")}}`),this}likeAnyOf(e,s){return this.url.searchParams.append(e,`like(any).{${s.join(",")}}`),this}ilike(e,s){return this.url.searchParams.append(e,`ilike.${s}`),this}ilikeAllOf(e,s){return this.url.searchParams.append(e,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(e,s){return this.url.searchParams.append(e,`ilike(any).{${s.join(",")}}`),this}is(e,s){return this.url.searchParams.append(e,`is.${s}`),this}in(e,s){const r=Array.from(new Set(s)).map(n=>typeof n=="string"&&new RegExp("[,()]").test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,s){return typeof s=="string"?this.url.searchParams.append(e,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(e,`cs.{${s.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(s)}`),this}containedBy(e,s){return typeof s=="string"?this.url.searchParams.append(e,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(e,`cd.{${s.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(s)}`),this}rangeGt(e,s){return this.url.searchParams.append(e,`sr.${s}`),this}rangeGte(e,s){return this.url.searchParams.append(e,`nxl.${s}`),this}rangeLt(e,s){return this.url.searchParams.append(e,`sl.${s}`),this}rangeLte(e,s){return this.url.searchParams.append(e,`nxr.${s}`),this}rangeAdjacent(e,s){return this.url.searchParams.append(e,`adj.${s}`),this}overlaps(e,s){return typeof s=="string"?this.url.searchParams.append(e,`ov.${s}`):this.url.searchParams.append(e,`ov.{${s.join(",")}}`),this}textSearch(e,s,{config:r,type:n}={}){let i="";n==="plain"?i="pl":n==="phrase"?i="ph":n==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${o}.${s}`),this}match(e){return Object.entries(e).forEach(([s,r])=>{this.url.searchParams.append(s,`eq.${r}`)}),this}not(e,s,r){return this.url.searchParams.append(e,`not.${s}.${r}`),this}or(e,{foreignTable:s,referencedTable:r=s}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,s,r){return this.url.searchParams.append(e,`${s}.${r}`),this}};ps.default=Fc;var Bc=xe&&xe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Qs,"__esModule",{value:!0});const Vt=Bc(ps);let Hc=class{constructor(e,{headers:s={},schema:r,fetch:n}){this.url=e,this.headers=new Headers(s),this.schema=r,this.fetch=n}select(e,{head:s=!1,count:r}={}){const n=s?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),r&&this.headers.append("Prefer",`count=${r}`),new Vt.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:s,defaultToNull:r=!0}={}){var n;const i="POST";if(s&&this.headers.append("Prefer",`count=${s}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const o=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new Vt.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(e,{onConflict:s,ignoreDuplicates:r=!1,count:n,defaultToNull:i=!0}={}){var o;const a="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),s!==void 0&&this.url.searchParams.set("on_conflict",s),n&&this.headers.append("Prefer",`count=${n}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((u,c)=>u.concat(Object.keys(c)),[]);if(l.length>0){const u=[...new Set(l)].map(c=>`"${c}"`);this.url.searchParams.set("columns",u.join(","))}}return new Vt.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(e,{count:s}={}){var r;const n="PATCH";return s&&this.headers.append("Prefer",`count=${s}`),new Vt.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var s;const r="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new Vt.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}};Qs.default=Hc;var To=xe&&xe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(_n,"__esModule",{value:!0});const qc=To(Qs),Wc=To(ps);let Kc=class ko{constructor(e,{headers:s={},schema:r,fetch:n}={}){this.url=e,this.headers=new Headers(s),this.schemaName=r,this.fetch=n}from(e){const s=new URL(`${this.url}/${e}`);return new qc.default(s,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new ko(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,s={},{head:r=!1,get:n=!1,count:i}={}){var o;let a;const l=new URL(`${this.url}/rpc/${e}`);let u;r||n?(a=r?"HEAD":"GET",Object.entries(s).filter(([h,g])=>g!==void 0).map(([h,g])=>[h,Array.isArray(g)?`{${g.join(",")}}`:`${g}`]).forEach(([h,g])=>{l.searchParams.append(h,g)})):(a="POST",u=s);const c=new Headers(this.headers);return i&&c.set("Prefer",`count=${i}`),new Wc.default({method:a,url:l,headers:c,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};_n.default=Kc;var Ft=xe&&xe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(_e,"__esModule",{value:!0});_e.PostgrestError=_e.PostgrestBuilder=_e.PostgrestTransformBuilder=_e.PostgrestFilterBuilder=_e.PostgrestQueryBuilder=_e.PostgrestClient=void 0;const Eo=Ft(_n);_e.PostgrestClient=Eo.default;const Oo=Ft(Qs);_e.PostgrestQueryBuilder=Oo.default;const Ao=Ft(ps);_e.PostgrestFilterBuilder=Ao.default;const Co=Ft(Xs);_e.PostgrestTransformBuilder=Co.default;const Po=Ft(Zs);_e.PostgrestBuilder=Po.default;const jo=Ft(er);_e.PostgrestError=jo.default;var Vc=_e.default={PostgrestClient:Eo.default,PostgrestQueryBuilder:Oo.default,PostgrestFilterBuilder:Ao.default,PostgrestTransformBuilder:Co.default,PostgrestBuilder:Po.default,PostgrestError:jo.default};const{PostgrestClient:zc,PostgrestQueryBuilder:jd,PostgrestFilterBuilder:$d,PostgrestTransformBuilder:Rd,PostgrestBuilder:Id,PostgrestError:Ud}=Vc;class Jc{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const s=parseInt(process.versions.node.split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let s=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(s+=`

Suggested solution: ${e.workaround}`),new Error(s)}static createWebSocket(e,s){const r=this.getWebSocketConstructor();return new r(e,s)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const Gc="2.15.1",Yc=`realtime-js/${Gc}`,Qc="1.0.0",Dr=1e4,Xc=1e3,Zc=100;var ss;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(ss||(ss={}));var te;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(te||(te={}));var Ee;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Ee||(Ee={}));var Nr;(function(t){t.websocket="websocket"})(Nr||(Nr={}));var vt;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(vt||(vt={}));class eu{constructor(){this.HEADER_LENGTH=1}decode(e,s){return e.constructor===ArrayBuffer?s(this._binaryDecode(e)):s(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const s=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,s,r)}_decodeBroadcast(e,s,r){const n=s.getUint8(1),i=s.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(e.slice(o,o+n));o=o+n;const l=r.decode(e.slice(o,o+i));o=o+i;const u=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:u}}}class $o{constructor(e,s){this.callback=e,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var G;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(G||(G={}));const ri=(t,e,s={})=>{var r;const n=(r=s.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((i,o)=>(i[o]=tu(o,t,e,n),i),{})},tu=(t,e,s,r)=>{const n=e.find(a=>a.name===t),i=n==null?void 0:n.type,o=s[t];return i&&!r.includes(i)?Ro(i,o):Mr(o)},Ro=(t,e)=>{if(t.charAt(0)==="_"){const s=t.slice(1,t.length);return iu(e,s)}switch(t){case G.bool:return su(e);case G.float4:case G.float8:case G.int2:case G.int4:case G.int8:case G.numeric:case G.oid:return ru(e);case G.json:case G.jsonb:return nu(e);case G.timestamp:return ou(e);case G.abstime:case G.date:case G.daterange:case G.int4range:case G.int8range:case G.money:case G.reltime:case G.text:case G.time:case G.timestamptz:case G.timetz:case G.tsrange:case G.tstzrange:return Mr(e);default:return Mr(e)}},Mr=t=>t,su=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},ru=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},nu=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},iu=(t,e)=>{if(typeof t!="string")return t;const s=t.length-1,r=t[s];if(t[0]==="{"&&r==="}"){let i;const o=t.slice(1,s);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>Ro(e,a))}return t},ou=t=>typeof t=="string"?t.replace(" ","T"):t,Io=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class mr{constructor(e,s,r={},n=Dr){this.channel=e,this.event=s,this.payload=r,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,s){var r;return this._hasReceived(e)&&s((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:s}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(s))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var ni;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(ni||(ni={}));class rs{constructor(e,s){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},n=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=rs.syncState(this.state,n,i,o),this.pendingDiffs.forEach(l=>{this.state=rs.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},n=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(n):(this.state=rs.syncDiff(this.state,n,i,o),a())}),this.onJoin((n,i,o)=>{this.channel._trigger("presence",{event:"join",key:n,currentPresences:i,newPresences:o})}),this.onLeave((n,i,o)=>{this.channel._trigger("presence",{event:"leave",key:n,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,s,r,n){const i=this.cloneDeep(e),o=this.transformState(s),a={},l={};return this.map(i,(u,c)=>{o[u]||(l[u]=c)}),this.map(o,(u,c)=>{const h=i[u];if(h){const g=c.map(C=>C.presence_ref),f=h.map(C=>C.presence_ref),v=c.filter(C=>f.indexOf(C.presence_ref)<0),S=h.filter(C=>g.indexOf(C.presence_ref)<0);v.length>0&&(a[u]=v),S.length>0&&(l[u]=S)}else a[u]=c}),this.syncDiff(i,{joins:a,leaves:l},r,n)}static syncDiff(e,s,r,n){const{joins:i,leaves:o}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return r||(r=()=>{}),n||(n=()=>{}),this.map(i,(a,l)=>{var u;const c=(u=e[a])!==null&&u!==void 0?u:[];if(e[a]=this.cloneDeep(l),c.length>0){const h=e[a].map(f=>f.presence_ref),g=c.filter(f=>h.indexOf(f.presence_ref)<0);e[a].unshift(...g)}r(a,c,l)}),this.map(o,(a,l)=>{let u=e[a];if(!u)return;const c=l.map(h=>h.presence_ref);u=u.filter(h=>c.indexOf(h.presence_ref)<0),e[a]=u,n(a,u,l),u.length===0&&delete e[a]}),e}static map(e,s){return Object.getOwnPropertyNames(e).map(r=>s(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((s,r)=>{const n=e[r];return"metas"in n?s[r]=n.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):s[r]=n,s},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var ii;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(ii||(ii={}));var ns;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(ns||(ns={}));var qe;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(qe||(qe={}));class vn{constructor(e,s={config:{}},r){this.topic=e,this.params=s,this.socket=r,this.bindings={},this.state=te.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new mr(this,Ee.join,this.params,this.timeout),this.rejoinTimer=new $o(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=te.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(n=>n.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=te.closed,this.socket._remove(this)}),this._onError(n=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,n),this.state=te.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=te.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",n=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,n),this.state=te.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ee.reply,{},(n,i)=>{this._trigger(this._replyEventName(i),n)}),this.presence=new rs(this),this.broadcastEndpointURL=Io(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,s=this.timeout){var r,n;if(this.socket.isConnected()||this.socket.connect(),this.state==te.closed){const{config:{broadcast:i,presence:o,private:a}}=this.params,l=(n=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(g=>g.filter))!==null&&n!==void 0?n:[],u=!!this.bindings[ns.PRESENCE]&&this.bindings[ns.PRESENCE].length>0,c={},h={broadcast:i,presence:Object.assign(Object.assign({},o),{enabled:u}),postgres_changes:l,private:a};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this._onError(g=>e==null?void 0:e(qe.CHANNEL_ERROR,g)),this._onClose(()=>e==null?void 0:e(qe.CLOSED)),this.updateJoinPayload(Object.assign({config:h},c)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:g})=>{var f;if(this.socket.setAuth(),g===void 0){e==null||e(qe.SUBSCRIBED);return}else{const v=this.bindings.postgres_changes,S=(f=v==null?void 0:v.length)!==null&&f!==void 0?f:0,C=[];for(let $=0;$<S;$++){const I=v[$],{filter:{event:O,schema:k,table:H,filter:B}}=I,q=g&&g[$];if(q&&q.event===O&&q.schema===k&&q.table===H&&q.filter===B)C.push(Object.assign(Object.assign({},I),{id:q.id}));else{this.unsubscribe(),this.state=te.errored,e==null||e(qe.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=C,e&&e(qe.SUBSCRIBED);return}}).receive("error",g=>{this.state=te.errored,e==null||e(qe.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(g).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(qe.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,s={}){return await this.send({type:"presence",event:"track",payload:e},s.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,s,r){return this.state===te.joined&&e===ns.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,s,r)}async send(e,s={}){var r,n;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=s.timeout)!==null&&r!==void 0?r:this.timeout);return await((n=u.body)===null||n===void 0?void 0:n.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const u=this._push(e.type,e,s.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=te.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ee.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(n=>{r=new mr(this,Ee.leave,{},e),r.receive("ok",()=>{s(),n("ok")}).receive("timeout",()=>{s(),n("timed out")}).receive("error",()=>{n("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=te.closed,this.bindings={}}async _fetchWithTimeout(e,s,r){const n=new AbortController,i=setTimeout(()=>n.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},s),{signal:n.signal}));return clearTimeout(i),o}_push(e,s,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let n=new mr(this,e,s,r);return this._canPush()?n.send():this._addToPushBuffer(n),n}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Zc){const s=this.pushBuffer.shift();s&&(s.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${s.event}`,s.payload))}}_onMessage(e,s,r){return s}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,s,r){var n,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:u,join:c}=Ee;if(r&&[a,l,u,c].indexOf(o)>=0&&r!==this._joinRef())return;let g=this._onMessage(o,s,r);if(s&&!g)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(n=this.bindings.postgres_changes)===null||n===void 0||n.filter(f=>{var v,S,C;return((v=f.filter)===null||v===void 0?void 0:v.event)==="*"||((C=(S=f.filter)===null||S===void 0?void 0:S.event)===null||C===void 0?void 0:C.toLocaleLowerCase())===o}).map(f=>f.callback(g,r)):(i=this.bindings[o])===null||i===void 0||i.filter(f=>{var v,S,C,$,I,O;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in f){const k=f.id,H=(v=f.filter)===null||v===void 0?void 0:v.event;return k&&((S=s.ids)===null||S===void 0?void 0:S.includes(k))&&(H==="*"||(H==null?void 0:H.toLocaleLowerCase())===((C=s.data)===null||C===void 0?void 0:C.type.toLocaleLowerCase()))}else{const k=(I=($=f==null?void 0:f.filter)===null||$===void 0?void 0:$.event)===null||I===void 0?void 0:I.toLocaleLowerCase();return k==="*"||k===((O=s==null?void 0:s.event)===null||O===void 0?void 0:O.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===o}).map(f=>{if(typeof g=="object"&&"ids"in g){const v=g.data,{schema:S,table:C,commit_timestamp:$,type:I,errors:O}=v;g=Object.assign(Object.assign({},{schema:S,table:C,commit_timestamp:$,eventType:I,new:{},old:{},errors:O}),this._getPayloadRecords(v))}f.callback(g,r)})}_isClosed(){return this.state===te.closed}_isJoined(){return this.state===te.joined}_isJoining(){return this.state===te.joining}_isLeaving(){return this.state===te.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,s,r){const n=e.toLocaleLowerCase(),i={type:n,filter:s,callback:r};return this.bindings[n]?this.bindings[n].push(i):this.bindings[n]=[i],this}_off(e,s){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(n=>{var i;return!(((i=n.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&vn.isEqual(n.filter,s))})),this}static isEqual(e,s){if(Object.keys(e).length!==Object.keys(s).length)return!1;for(const r in e)if(e[r]!==s[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Ee.close,{},e)}_onError(e){this._on(Ee.error,{},s=>e(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=te.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const s={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(s.new=ri(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(s.old=ri(e.columns,e.old_record)),s}}const oi=()=>{},Ts={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},au=[1e3,2e3,5e3,1e4],lu=1e4,cu=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class uu{constructor(e,s){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Dr,this.transport=null,this.heartbeatIntervalMs=Ts.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=oi,this.ref=0,this.reconnectTimer=null,this.logger=oi,this.conn=null,this.sendBuffer=[],this.serializer=new eu,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=n=>{let i;return n?i=n:typeof fetch>"u"?i=(...o)=>fs(()=>Promise.resolve().then(()=>Mt),void 0).then(({default:a})=>a(...o)).catch(a=>{throw new Error(`Failed to load @supabase/node-fetch: ${a.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((r=s==null?void 0:s.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=s.params.apikey,this.endPoint=`${e}/${Nr.websocket}`,this.httpEndpoint=Io(e),this._initializeOptions(s),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(s==null?void 0:s.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Jc.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const s=e.message;throw s.includes("Node.js")?new Error(`${s}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${s}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Qc}))}disconnect(e,s){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},e?this.conn.close(e,s??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const s=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const e=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,s,r){this.logger(e,s,r)}connectionState(){switch(this.conn&&this.conn.readyState){case ss.connecting:return vt.Connecting;case ss.open:return vt.Open;case ss.closing:return vt.Closing;default:return vt.Closed}}isConnected(){return this.connectionState()===vt.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,s={config:{}}){const r=`realtime:${e}`,n=this.getChannels().find(i=>i.topic===r);if(n)return n;{const i=new vn(`realtime:${e}`,s,this);return this.channels.push(i),i}}push(e){const{topic:s,event:r,payload:n,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${s} ${r} (${i})`,n),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Xc,"heartbeat timeout"),setTimeout(()=>{var s;this.isConnected()||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout()},Ts.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let s=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${e}"`),s.unsubscribe())}_remove(e){this.channels=this.channels.filter(s=>s.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,s=>{s.topic==="phoenix"&&s.event==="phx_reply"&&this.heartbeatCallback(s.payload.status==="ok"?"ok":"error"),s.ref&&s.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:n,payload:i,ref:o}=s,a=o?`(${o})`:"",l=i.status||"";this.log("receive",`${l} ${r} ${n} ${a}`.trim(),i),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(n,i,o)),this._triggerStateCallbacks("message",s)})}_clearTimer(e){var s;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((s=this.reconnectTimer)===null||s===void 0||s.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var s;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Ee.error))}_appendParams(e,s){if(Object.keys(s).length===0)return e;const r=e.match(/\?/)?"&":"?",n=new URLSearchParams(s);return`${e}${r}${n}`}_workerObjectUrl(e){let s;if(e)s=e;else{const r=new Blob([cu],{type:"application/javascript"});s=URL.createObjectURL(r)}return s}_setConnectionState(e,s=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=s)}async _performAuth(e=null){let s;e?s=e:this.accessToken?s=await this.accessToken():s=this.accessTokenValue,this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(r=>{const n={access_token:s,version:Yc};s&&r.updateJoinPayload(n),r.joinedOnce&&r._isJoined()&&r._push(Ee.access_token,{access_token:s})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(s=>{this.log("error",`error setting auth in ${e}`,s)})}_triggerStateCallbacks(e,s){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(s)}catch(n){this.log("error",`error in ${e} callback`,n)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new $o(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ts.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var s,r,n,i,o,a,l,u;if(this.transport=(s=e==null?void 0:e.transport)!==null&&s!==void 0?s:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:Dr,this.heartbeatIntervalMs=(n=e==null?void 0:e.heartbeatIntervalMs)!==null&&n!==void 0?n:Ts.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(a=e==null?void 0:e.reconnectAfterMs)!==null&&a!==void 0?a:c=>au[c-1]||lu,this.encode=(l=e==null?void 0:e.encode)!==null&&l!==void 0?l:(c,h)=>h(JSON.stringify(c)),this.decode=(u=e==null?void 0:e.decode)!==null&&u!==void 0?u:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class mn extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function se(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class hu extends mn{constructor(e,s,r){super(e),this.name="StorageApiError",this.status=s,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Fr extends mn{constructor(e,s){super(e),this.name="StorageUnknownError",this.originalError=s}}var du=globalThis&&globalThis.__awaiter||function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const Uo=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>fs(()=>Promise.resolve().then(()=>Mt),void 0).then(({default:r})=>r(...s)):e=fetch,(...s)=>e(...s)},fu=()=>du(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield fs(()=>Promise.resolve().then(()=>Mt),void 0)).Response:Response}),Br=t=>{if(Array.isArray(t))return t.map(s=>Br(s));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([s,r])=>{const n=s.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[n]=Br(r)}),e},pu=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var bt=globalThis&&globalThis.__awaiter||function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const yr=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),gu=(t,e,s)=>bt(void 0,void 0,void 0,function*(){const r=yield fu();t instanceof r&&!(s!=null&&s.noResolveJson)?t.json().then(n=>{const i=t.status||500,o=(n==null?void 0:n.statusCode)||i+"";e(new hu(yr(n),i,o))}).catch(n=>{e(new Fr(yr(n),n))}):e(new Fr(yr(t),t))}),_u=(t,e,s,r)=>{const n={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?n:(pu(r)?(n.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),n.body=JSON.stringify(r)):n.body=r,e!=null&&e.duplex&&(n.duplex=e.duplex),Object.assign(Object.assign({},n),s))};function gs(t,e,s,r,n,i){return bt(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(s,_u(e,r,n,i)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>gu(l,a,r))})})}function Ns(t,e,s,r){return bt(this,void 0,void 0,function*(){return gs(t,"GET",e,s,r)})}function Ie(t,e,s,r,n){return bt(this,void 0,void 0,function*(){return gs(t,"POST",e,r,n,s)})}function Hr(t,e,s,r,n){return bt(this,void 0,void 0,function*(){return gs(t,"PUT",e,r,n,s)})}function vu(t,e,s,r){return bt(this,void 0,void 0,function*(){return gs(t,"HEAD",e,Object.assign(Object.assign({},s),{noResolveJson:!0}),r)})}function Lo(t,e,s,r,n){return bt(this,void 0,void 0,function*(){return gs(t,"DELETE",e,r,n,s)})}var ce=globalThis&&globalThis.__awaiter||function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const mu={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ai={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class yu{constructor(e,s={},r,n){this.url=e,this.headers=s,this.bucketId=r,this.fetch=Uo(n)}uploadOrUpdate(e,s,r,n){return ce(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},ai),n);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),n!=null&&n.headers&&(a=Object.assign(Object.assign({},a),n.headers));const u=this._removeEmptyFolders(s),c=this._getFinalPath(u),h=yield(e=="PUT"?Hr:Ie)(this.fetch,`${this.url}/object/${c}`,i,Object.assign({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(se(i))return{data:null,error:i};throw i}})}upload(e,s,r){return ce(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,s,r)})}uploadToSignedUrl(e,s,r,n){return ce(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",s);try{let l;const u=Object.assign({upsert:ai.upsert},n),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const h=yield Hr(this.fetch,a.toString(),l,{headers:c});return{data:{path:i,fullPath:h.Key},error:null}}catch(l){if(se(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,s){return ce(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const n=Object.assign({},this.headers);s!=null&&s.upsert&&(n["x-upsert"]="true");const i=yield Ie(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:n}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new mn("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(r){if(se(r))return{data:null,error:r};throw r}})}update(e,s,r){return ce(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,s,r)})}move(e,s,r){return ce(this,void 0,void 0,function*(){try{return{data:yield Ie(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(n){if(se(n))return{data:null,error:n};throw n}})}copy(e,s,r){return ce(this,void 0,void 0,function*(){try{return{data:{path:(yield Ie(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(n){if(se(n))return{data:null,error:n};throw n}})}createSignedUrl(e,s,r){return ce(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e),i=yield Ie(this.fetch,`${this.url}/object/sign/${n}`,Object.assign({expiresIn:s},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(n){if(se(n))return{data:null,error:n};throw n}})}createSignedUrls(e,s,r){return ce(this,void 0,void 0,function*(){try{const n=yield Ie(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:n.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(n){if(se(n))return{data:null,error:n};throw n}})}download(e,s){return ce(this,void 0,void 0,function*(){const n=typeof(s==null?void 0:s.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((s==null?void 0:s.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield Ns(this.fetch,`${this.url}/${n}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(se(a))return{data:null,error:a};throw a}})}info(e){return ce(this,void 0,void 0,function*(){const s=this._getFinalPath(e);try{const r=yield Ns(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:Br(r),error:null}}catch(r){if(se(r))return{data:null,error:r};throw r}})}exists(e){return ce(this,void 0,void 0,function*(){const s=this._getFinalPath(e);try{return yield vu(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(se(r)&&r instanceof Fr){const n=r.originalError;if([400,404].includes(n==null?void 0:n.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,s){const r=this._getFinalPath(e),n=[],i=s!=null&&s.download?`download=${s.download===!0?"":s.download}`:"";i!==""&&n.push(i);const a=typeof(s==null?void 0:s.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((s==null?void 0:s.transform)||{});l!==""&&n.push(l);let u=n.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${u}`)}}}remove(e){return ce(this,void 0,void 0,function*(){try{return{data:yield Lo(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(s){if(se(s))return{data:null,error:s};throw s}})}list(e,s,r){return ce(this,void 0,void 0,function*(){try{const n=Object.assign(Object.assign(Object.assign({},mu),s),{prefix:e||""});return{data:yield Ie(this.fetch,`${this.url}/object/list/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(se(n))return{data:null,error:n};throw n}})}listV2(e,s){return ce(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield Ie(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},s),error:null}}catch(r){if(se(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const s=[];return e.width&&s.push(`width=${e.width}`),e.height&&s.push(`height=${e.height}`),e.resize&&s.push(`resize=${e.resize}`),e.format&&s.push(`format=${e.format}`),e.quality&&s.push(`quality=${e.quality}`),s.join("&")}}const bu="2.11.0",wu={"X-Client-Info":`storage-js/${bu}`};var xt=globalThis&&globalThis.__awaiter||function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class Su{constructor(e,s={},r,n){const i=new URL(e);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},wu),s),this.fetch=Uo(r)}listBuckets(){return xt(this,void 0,void 0,function*(){try{return{data:yield Ns(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(se(e))return{data:null,error:e};throw e}})}getBucket(e){return xt(this,void 0,void 0,function*(){try{return{data:yield Ns(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(s){if(se(s))return{data:null,error:s};throw s}})}createBucket(e,s={public:!1}){return xt(this,void 0,void 0,function*(){try{return{data:yield Ie(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:s.type,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(se(r))return{data:null,error:r};throw r}})}updateBucket(e,s){return xt(this,void 0,void 0,function*(){try{return{data:yield Hr(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(se(r))return{data:null,error:r};throw r}})}emptyBucket(e){return xt(this,void 0,void 0,function*(){try{return{data:yield Ie(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(se(s))return{data:null,error:s};throw s}})}deleteBucket(e){return xt(this,void 0,void 0,function*(){try{return{data:yield Lo(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(s){if(se(s))return{data:null,error:s};throw s}})}}class xu extends Su{constructor(e,s={},r,n){super(e,s,r,n)}from(e){return new yu(this.url,this.headers,e,this.fetch)}}const Tu="2.56.0";let Jt="";typeof Deno<"u"?Jt="deno":typeof document<"u"?Jt="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Jt="react-native":Jt="node";const ku={"X-Client-Info":`supabase-js-${Jt}/${Tu}`},Eu={headers:ku},Ou={schema:"public"},Au={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Cu={};var Pu=globalThis&&globalThis.__awaiter||function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const ju=t=>{let e;return t?e=t:typeof fetch>"u"?e=wo:e=fetch,(...s)=>e(...s)},$u=()=>typeof Headers>"u"?So:Headers,Ru=(t,e,s)=>{const r=ju(s),n=$u();return(i,o)=>Pu(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:t;let u=new n(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(i,Object.assign(Object.assign({},o),{headers:u}))})};var Iu=globalThis&&globalThis.__awaiter||function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};function Uu(t){return t.endsWith("/")?t:t+"/"}function Lu(t,e){var s,r;const{db:n,auth:i,realtime:o,global:a}=t,{db:l,auth:u,realtime:c,global:h}=e,g={db:Object.assign(Object.assign({},l),n),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},c),o),storage:{},global:Object.assign(Object.assign(Object.assign({},h),a),{headers:Object.assign(Object.assign({},(s=h==null?void 0:h.headers)!==null&&s!==void 0?s:{}),(r=a==null?void 0:a.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>Iu(this,void 0,void 0,function*(){return""})};return t.accessToken?g.accessToken=t.accessToken:delete g.accessToken,g}const Do="2.71.1",Ct=30*1e3,qr=3,br=qr*Ct,Du="http://localhost:9999",Nu="supabase.auth.token",Mu={"X-Client-Info":`gotrue-js/${Do}`},Wr="X-Supabase-Api-Version",No={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Fu=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Bu=10*60*1e3;class yn extends Error{constructor(e,s,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=r}}function D(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Hu extends yn{constructor(e,s,r){super(e,s,r),this.name="AuthApiError",this.status=s,this.code=r}}function qu(t){return D(t)&&t.name==="AuthApiError"}class Mo extends yn{constructor(e,s){super(e),this.name="AuthUnknownError",this.originalError=s}}class at extends yn{constructor(e,s,r,n){super(e,r,n),this.name=s,this.status=r}}class Qe extends at{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Wu(t){return D(t)&&t.name==="AuthSessionMissingError"}class ks extends at{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Es extends at{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Os extends at{constructor(e,s=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Ku(t){return D(t)&&t.name==="AuthImplicitGrantRedirectError"}class li extends at{constructor(e,s=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Kr extends at{constructor(e,s){super(e,"AuthRetryableFetchError",s,void 0)}}function wr(t){return D(t)&&t.name==="AuthRetryableFetchError"}class ci extends at{constructor(e,s,r){super(e,"AuthWeakPasswordError",s,"weak_password"),this.reasons=r}}class Vr extends at{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ms="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),ui=` 	
\r=`.split(""),Vu=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<ui.length;e+=1)t[ui[e].charCodeAt(0)]=-2;for(let e=0;e<Ms.length;e+=1)t[Ms[e].charCodeAt(0)]=e;return t})();function hi(t,e,s){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;s(Ms[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;s(Ms[r]),e.queuedBits-=6}}function Fo(t,e,s){const r=Vu[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)s(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function di(t){const e=[],s=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},n={queue:0,queuedBits:0},i=o=>{Gu(o,r,s)};for(let o=0;o<t.length;o+=1)Fo(t.charCodeAt(o),n,i);return e.join("")}function zu(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Ju(t,e){for(let s=0;s<t.length;s+=1){let r=t.charCodeAt(s);if(r>55295&&r<=56319){const n=(r-55296)*1024&65535;r=(t.charCodeAt(s+1)-56320&65535|n)+65536,s+=1}zu(r,e)}}function Gu(t,e,s){if(e.utf8seq===0){if(t<=127){s(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&s(e.codepoint)}}function Yu(t){const e=[],s={queue:0,queuedBits:0},r=n=>{e.push(n)};for(let n=0;n<t.length;n+=1)Fo(t.charCodeAt(n),s,r);return new Uint8Array(e)}function Qu(t){const e=[];return Ju(t,s=>e.push(s)),new Uint8Array(e)}function Xu(t){const e=[],s={queue:0,queuedBits:0},r=n=>{e.push(n)};return t.forEach(n=>hi(n,s,r)),hi(null,s,r),e.join("")}function Zu(t){return Math.round(Date.now()/1e3)+t}function eh(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const ke=()=>typeof window<"u"&&typeof document<"u",ft={tested:!1,writable:!1},Bo=()=>{if(!ke())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ft.tested)return ft.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),ft.tested=!0,ft.writable=!0}catch{ft.tested=!0,ft.writable=!1}return ft.writable};function th(t){const e={},s=new URL(t);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((n,i)=>{e[i]=n})}catch{}return s.searchParams.forEach((r,n)=>{e[n]=r}),e}const Ho=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>fs(()=>Promise.resolve().then(()=>Mt),void 0).then(({default:r})=>r(...s)):e=fetch,(...s)=>e(...s)},sh=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Pt=async(t,e,s)=>{await t.setItem(e,JSON.stringify(s))},pt=async(t,e)=>{const s=await t.getItem(e);if(!s)return null;try{return JSON.parse(s)}catch{return s}},Ye=async(t,e)=>{await t.removeItem(e)};class tr{constructor(){this.promise=new tr.promiseConstructor((e,s)=>{this.resolve=e,this.reject=s})}}tr.promiseConstructor=Promise;function Sr(t){const e=t.split(".");if(e.length!==3)throw new Vr("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!Fu.test(e[r]))throw new Vr("JWT not in base64url format");return{header:JSON.parse(di(e[0])),payload:JSON.parse(di(e[1])),signature:Yu(e[2]),raw:{header:e[0],payload:e[1]}}}async function rh(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function nh(t,e){return new Promise((r,n)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){r(o);return}}catch(o){if(!e(i,o)){n(o);return}}})()})}function ih(t){return("0"+t.toString(16)).substr(-2)}function oh(){const e=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=s.length;let n="";for(let i=0;i<56;i++)n+=s.charAt(Math.floor(Math.random()*r));return n}return crypto.getRandomValues(e),Array.from(e,ih).join("")}async function ah(t){const s=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",s),n=new Uint8Array(r);return Array.from(n).map(i=>String.fromCharCode(i)).join("")}async function lh(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const s=await ah(t);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Tt(t,e,s=!1){const r=oh();let n=r;s&&(n+="/PASSWORD_RECOVERY"),await Pt(t,`${e}-code-verifier`,n);const i=await lh(r);return[i,r===i?"plain":"s256"]}const ch=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function uh(t){const e=t.headers.get(Wr);if(!e||!e.match(ch))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function hh(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function dh(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const fh=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function kt(t){if(!fh.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function xr(){const t={};return new Proxy(t,{get:(e,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const r=s.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function fi(t){return JSON.parse(JSON.stringify(t))}var ph=globalThis&&globalThis.__rest||function(t,e){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(s[r[n]]=t[r[n]]);return s};const _t=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),gh=[502,503,504];async function pi(t){var e;if(!sh(t))throw new Kr(_t(t),0);if(gh.includes(t.status))throw new Kr(_t(t),t.status);let s;try{s=await t.json()}catch(i){throw new Mo(_t(i),i)}let r;const n=uh(t);if(n&&n.getTime()>=No["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?r=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(r=s.error_code),r){if(r==="weak_password")throw new ci(_t(s),t.status,((e=s.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Qe}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new ci(_t(s),t.status,s.weak_password.reasons);throw new Hu(_t(s),t.status||500,r)}const _h=(t,e,s,r)=>{const n={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),n.body=JSON.stringify(r),Object.assign(Object.assign({},n),s))};async function M(t,e,s,r){var n;const i=Object.assign({},r==null?void 0:r.headers);i[Wr]||(i[Wr]=No["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(n=r==null?void 0:r.query)!==null&&n!==void 0?n:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await vh(t,e,s+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function vh(t,e,s,r,n,i){const o=_h(e,r,n,i);let a;try{a=await t(s,Object.assign({},o))}catch(l){throw console.error(l),new Kr(_t(l),0)}if(a.ok||await pi(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await pi(l)}}function Be(t){var e;let s=null;wh(t)&&(s=Object.assign({},t),t.expires_at||(s.expires_at=Zu(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:s,user:r},error:null}}function gi(t){const e=Be(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((s,r)=>s&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function tt(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function mh(t){return{data:t,error:null}}function yh(t){const{action_link:e,email_otp:s,hashed_token:r,redirect_to:n,verification_type:i}=t,o=ph(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:s,hashed_token:r,redirect_to:n,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function bh(t){return t}function wh(t){return t.access_token&&t.refresh_token&&t.expires_in}const Tr=["global","local","others"];var Sh=globalThis&&globalThis.__rest||function(t,e){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(s[r[n]]=t[r[n]]);return s};class xh{constructor({url:e="",headers:s={},fetch:r}){this.url=e,this.headers=s,this.fetch=Ho(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,s=Tr[0]){if(Tr.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Tr.join(", ")}`);try{return await M(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(D(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,s={}){try{return await M(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:tt})}catch(r){if(D(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:s}=e,r=Sh(e,["options"]),n=Object.assign(Object.assign({},r),s);return"newEmail"in r&&(n.new_email=r==null?void 0:r.newEmail,delete n.newEmail),await M(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:n,headers:this.headers,xform:yh,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(D(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(e){try{return await M(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:tt})}catch(s){if(D(s))return{data:{user:null},error:s};throw s}}async listUsers(e){var s,r,n,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await M(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(s=e==null?void 0:e.page)===null||s===void 0?void 0:s.toString())!==null&&r!==void 0?r:"",per_page:(i=(n=e==null?void 0:e.perPage)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:""},xform:bh});if(c.error)throw c.error;const h=await c.json(),g=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(v=>{const S=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(v.split(";")[1].split("=")[1]);u[`${C}Page`]=S}),u.total=parseInt(g)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(D(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){kt(e);try{return await M(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:tt})}catch(s){if(D(s))return{data:{user:null},error:s};throw s}}async updateUserById(e,s){kt(e);try{return await M(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:s,headers:this.headers,xform:tt})}catch(r){if(D(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,s=!1){kt(e);try{return await M(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:s},xform:tt})}catch(r){if(D(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){kt(e.userId);try{const{data:s,error:r}=await M(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:n=>({data:{factors:n},error:null})});return{data:s,error:r}}catch(s){if(D(s))return{data:null,error:s};throw s}}async _deleteFactor(e){kt(e.userId),kt(e.id);try{return{data:await M(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(s){if(D(s))return{data:null,error:s};throw s}}}function _i(t={}){return{getItem:e=>t[e]||null,setItem:(e,s)=>{t[e]=s},removeItem:e=>{delete t[e]}}}function Th(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Et={debug:!!(globalThis&&Bo()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class qo extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class kh extends qo{}async function Eh(t,e,s){Et.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Et.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async n=>{if(n){Et.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,n.name);try{return await s()}finally{Et.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,n.name)}}else{if(e===0)throw Et.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new kh(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Et.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}Th();const Oh={url:Du,storageKey:Nu,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Mu,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function vi(t,e,s){return await s()}const Ot={};class us{constructor(e){var s,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=us.nextInstanceID,us.nextInstanceID+=1,this.instanceID>0&&ke()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const n=Object.assign(Object.assign({},Oh),e);if(this.logDebugMessages=!!n.debug,typeof n.debug=="function"&&(this.logger=n.debug),this.persistSession=n.persistSession,this.storageKey=n.storageKey,this.autoRefreshToken=n.autoRefreshToken,this.admin=new xh({url:n.url,headers:n.headers,fetch:n.fetch}),this.url=n.url,this.headers=n.headers,this.fetch=Ho(n.fetch),this.lock=n.lock||vi,this.detectSessionInUrl=n.detectSessionInUrl,this.flowType=n.flowType,this.hasCustomAuthorizationHeader=n.hasCustomAuthorizationHeader,n.lock?this.lock=n.lock:ke()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=Eh:this.lock=vi,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(n.storage?this.storage=n.storage:Bo()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=_i(this.memoryStorage)),n.userStorage&&(this.userStorage=n.userStorage)):(this.memoryStorage={},this.storage=_i(this.memoryStorage)),ke()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var e,s;return(s=(e=Ot[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(e){Ot[this.storageKey]=Object.assign(Object.assign({},Ot[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,s;return(s=(e=Ot[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Ot[this.storageKey]=Object.assign(Object.assign({},Ot[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Do}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const s=th(window.location.href);let r="none";if(this._isImplicitGrantCallback(s)?r="implicit":await this._isPKCECallback(s)&&(r="pkce"),ke()&&this.detectSessionInUrl&&r!=="none"){const{data:n,error:i}=await this._getSessionFromURL(s,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Ku(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=n;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return D(s)?{error:s}:{error:new Mo("Unexpected error during initialization",s)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var s,r,n;try{const i=await M(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.captchaToken}},xform:Be}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(D(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var s,r,n;try{let i;if("email"in e){const{email:c,password:h,options:g}=e;let f=null,v=null;this.flowType==="pkce"&&([f,v]=await Tt(this.storage,this.storageKey)),i=await M(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:g==null?void 0:g.emailRedirectTo,body:{email:c,password:h,data:(s=g==null?void 0:g.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:f,code_challenge_method:v},xform:Be})}else if("phone"in e){const{phone:c,password:h,options:g}=e;i=await M(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:h,data:(r=g==null?void 0:g.data)!==null&&r!==void 0?r:{},channel:(n=g==null?void 0:g.channel)!==null&&n!==void 0?n:"sms",gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:Be})}else throw new Es("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(D(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let s;if("email"in e){const{email:i,password:o,options:a}=e;s=await M(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:gi})}else if("phone"in e){const{phone:i,password:o,options:a}=e;s=await M(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:gi})}else throw new Es("You must provide either an email or phone number and a password");const{data:r,error:n}=s;return n?{data:{user:null,session:null},error:n}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new ks}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:n})}catch(s){if(D(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(e){var s,r,n,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(n=e.options)===null||n===void 0?void 0:n.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:s}=e;if(s==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}async signInWithSolana(e){var s,r,n,i,o,a,l,u,c,h,g,f;let v,S;if("message"in e)v=e.message,S=e.signature;else{const{chain:C,wallet:$,statement:I,options:O}=e;let k;if(ke())if(typeof $=="object")k=$;else{const B=window;if("solana"in B&&typeof B.solana=="object"&&("signIn"in B.solana&&typeof B.solana.signIn=="function"||"signMessage"in B.solana&&typeof B.solana.signMessage=="function"))k=B.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof $!="object"||!(O!=null&&O.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");k=$}const H=new URL((s=O==null?void 0:O.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in k&&k.signIn){const B=await k.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},O==null?void 0:O.signInWithSolana),{version:"1",domain:H.host,uri:H.href}),I?{statement:I}:null));let q;if(Array.isArray(B)&&B[0]&&typeof B[0]=="object")q=B[0];else if(B&&typeof B=="object"&&"signedMessage"in B&&"signature"in B)q=B;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in q&&"signature"in q&&(typeof q.signedMessage=="string"||q.signedMessage instanceof Uint8Array)&&q.signature instanceof Uint8Array)v=typeof q.signedMessage=="string"?q.signedMessage:new TextDecoder().decode(q.signedMessage),S=q.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in k)||typeof k.signMessage!="function"||!("publicKey"in k)||typeof k!="object"||!k.publicKey||!("toBase58"in k.publicKey)||typeof k.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${H.host} wants you to sign in with your Solana account:`,k.publicKey.toBase58(),...I?["",I,""]:[""],"Version: 1",`URI: ${H.href}`,`Issued At: ${(n=(r=O==null?void 0:O.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&n!==void 0?n:new Date().toISOString()}`,...!((i=O==null?void 0:O.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${O.signInWithSolana.notBefore}`]:[],...!((o=O==null?void 0:O.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${O.signInWithSolana.expirationTime}`]:[],...!((a=O==null?void 0:O.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${O.signInWithSolana.chainId}`]:[],...!((l=O==null?void 0:O.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${O.signInWithSolana.nonce}`]:[],...!((u=O==null?void 0:O.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${O.signInWithSolana.requestId}`]:[],...!((h=(c=O==null?void 0:O.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||h===void 0)&&h.length?["Resources",...O.signInWithSolana.resources.map(q=>`- ${q}`)]:[]].join(`
`);const B=await k.signMessage(new TextEncoder().encode(v),"utf8");if(!B||!(B instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");S=B}}try{const{data:C,error:$}=await M(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:Xu(S)},!((g=e.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:Be});if($)throw $;return!C||!C.session||!C.user?{data:{user:null,session:null},error:new ks}:(C.session&&(await this._saveSession(C.session),await this._notifyAllSubscribers("SIGNED_IN",C.session)),{data:Object.assign({},C),error:$})}catch(C){if(D(C))return{data:{user:null,session:null},error:C};throw C}}async _exchangeCodeForSession(e){const s=await pt(this.storage,`${this.storageKey}-code-verifier`),[r,n]=(s??"").split("/");try{const{data:i,error:o}=await M(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Be});if(await Ye(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new ks}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:n??null}),error:o})}catch(i){if(D(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:s,provider:r,token:n,access_token:i,nonce:o}=e,a=await M(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:n,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:Be}),{data:l,error:u}=a;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new ks}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(s){if(D(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(e){var s,r,n,i,o;try{if("email"in e){const{email:a,options:l}=e;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await Tt(this.storage,this.storageKey));const{error:h}=await M(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:a,options:l}=e,{data:u,error:c}=await M(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c}}throw new Es("You must provide either an email or phone number.")}catch(a){if(D(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var s,r;try{let n,i;"options"in e&&(n=(s=e.options)===null||s===void 0?void 0:s.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await M(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:n,xform:Be});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(n){if(D(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithSSO(e){var s,r,n;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Tt(this.storage,this.storageKey)),await M(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(s=e.options)===null||s===void 0?void 0:s.redirectTo)!==null&&r!==void 0?r:void 0}),!((n=e==null?void 0:e.options)===null||n===void 0)&&n.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:mh})}catch(i){if(D(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:s},error:r}=e;if(r)throw r;if(!s)throw new Qe;const{error:n}=await M(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:n}})}catch(e){if(D(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const s=`${this.url}/resend`;if("email"in e){const{email:r,type:n,options:i}=e,{error:o}=await M(this.fetch,"POST",s,{headers:this.headers,body:{email:r,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:n,options:i}=e,{data:o,error:a}=await M(this.fetch,"POST",s,{headers:this.headers,body:{phone:r,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new Es("You must provide either an email or phone number and a type")}catch(s){if(D(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(e,s){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await r,await s()))();return this.pendingInLock.push((async()=>{try{await n}catch{}})()),n}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=s();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const n=[...this.pendingInLock];await Promise.all(n),this.pendingInLock.splice(0,n.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await e(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const s=await pt(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?e=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<br:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const o=await pt(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=xr()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,u,c)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,c))})}return{data:{session:e},error:null}}const{session:n,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:n},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await M(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:tt}):await this._useSession(async s=>{var r,n,i;const{data:o,error:a}=s;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Qe}:await M(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0,xform:tt})})}catch(s){if(D(s))return Wu(s)&&(await this._removeSession(),await Ye(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:s};throw s}}async updateUser(e,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,s))}async _updateUser(e,s={}){try{return await this._useSession(async r=>{const{data:n,error:i}=r;if(i)throw i;if(!n.session)throw new Qe;const o=n.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await Tt(this.storage,this.storageKey));const{data:u,error:c}=await M(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:tt});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(D(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Qe;const s=Date.now()/1e3;let r=s,n=!0,i=null;const{payload:o}=Sr(e.access_token);if(o.exp&&(r=o.exp,n=r<=s),n){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-s,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(s){if(D(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async s=>{var r;if(!e){const{data:o,error:a}=s;if(a)throw a;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new Qe;const{session:n,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:n?{data:{user:n.user,session:n},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(D(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(e,s){try{if(!ke())throw new Os("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Os(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new li("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Os("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new li("No code detected.");const{data:I,error:O}=await this._exchangeCodeForSession(e.code);if(O)throw O;const k=new URL(window.location.href);return k.searchParams.delete("code"),window.history.replaceState(window.history.state,"",k.toString()),{data:{session:I.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:n,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=e;if(!i||!a||!o||!u)throw new Os("No session defined in URL");const c=Math.round(Date.now()/1e3),h=parseInt(a);let g=c+h;l&&(g=parseInt(l));const f=g-c;f*1e3<=Ct&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${h}s`);const v=g-h;c-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,g,c):c-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,g,c);const{data:S,error:C}=await this._getUser(i);if(C)throw C;const $={provider_token:r,provider_refresh_token:n,access_token:i,expires_in:h,expires_at:g,refresh_token:o,token_type:u,user:S.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:$,redirectType:e.type},error:null}}catch(r){if(D(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const s=await pt(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&s)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async s=>{var r;const{data:n,error:i}=s;if(i)return{error:i};const o=(r=n.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(qu(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await Ye(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const s=eh(),r={id:s,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async s=>{var r,n;try{const{data:{session:i},error:o}=s;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,s={}){let r=null,n=null;this.flowType==="pkce"&&([r,n]=await Tt(this.storage,this.storageKey,!0));try{return await M(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:n,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(i){if(D(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:s,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=s.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(s){if(D(s))return{data:null,error:s};throw s}}async linkIdentity(e){var s;try{const{data:r,error:n}=await this._useSession(async i=>{var o,a,l,u,c;const{data:h,error:g}=i;if(g)throw g;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await M(this.fetch,"GET",f,{headers:this.headers,jwt:(c=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(n)throw n;return ke()&&!(!((s=e.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(D(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async s=>{var r,n;const{data:i,error:o}=s;if(o)throw o;return await M(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(n=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&n!==void 0?n:void 0})})}catch(s){if(D(s))return{data:null,error:s};throw s}}async _refreshAccessToken(e){const s=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{const r=Date.now();return await nh(async n=>(n>0&&await rh(200*Math.pow(2,n-1)),this._debug(s,"refreshing attempt",n),await M(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Be})),(n,i)=>{const o=200*Math.pow(2,n);return i&&wr(i)&&Date.now()+o-r<Ct})}catch(r){if(this._debug(s,"error",r),D(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(s,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,s){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",s,"url",r),ke()&&!s.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,s;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await pt(this.storage,this.storageKey);if(n&&this.userStorage){let o=await pt(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:n.user},await Pt(this.userStorage,this.storageKey+"-user",o)),n.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:xr()}else if(n&&!n.user&&!n.user){const o=await pt(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(n.user=o.user,await Ye(this.storage,this.storageKey+"-user"),await Pt(this.storage,this.storageKey,n)):n.user=xr()}if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const i=((s=n.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<br;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${br}s`),i){if(this.autoRefreshToken&&n.refresh_token){const{error:o}=await this._callRefreshToken(n.refresh_token);o&&(console.error(o),wr(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(n.user&&n.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(n.access_token);!a&&(o!=null&&o.user)?(n.user=o.user,await this._saveSession(n),await this._notifyAllSubscribers("SIGNED_IN",n)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var s,r;if(!e)throw new Qe;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const n=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{this.refreshingDeferred=new tr;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new Qe;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(n,"error",i),D(i)){const o={session:null,error:i};return wr(i)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(n,"end")}}async _notifyAllSubscribers(e,s,r=!0){const n=`#_notifyAllSubscribers(${e})`;this._debug(n,"begin",s,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:s});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,s)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(n,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const s=Object.assign({},e),r=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&s.user&&await Pt(this.userStorage,this.storageKey+"-user",{user:s.user});const n=Object.assign({},s);delete n.user;const i=fi(n);await Pt(this.storage,this.storageKey,i)}else{const n=fi(s);await Pt(this.storage,this.storageKey,n)}}async _removeSession(){this._debug("#_removeSession()"),await Ye(this.storage,this.storageKey),await Ye(this.storage,this.storageKey+"-code-verifier"),await Ye(this.storage,this.storageKey+"-user"),this.userStorage&&await Ye(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&ke()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Ct);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async s=>{const{data:{session:r}}=s;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const n=Math.floor((r.expires_at*1e3-e)/Ct);this._debug("#_autoRefreshTokenTick()",`access token expires in ${n} ticks, a tick lasts ${Ct}ms, refresh threshold is ${qr} ticks`),n<=qr&&await this._callRefreshToken(r.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof qo)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ke()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const s=`#_onVisibilityChanged(${e})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,s,r){const n=[`provider=${encodeURIComponent(s)}`];if(r!=null&&r.redirectTo&&n.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&n.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await Tt(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});n.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);n.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&n.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${n.join("&")}`}async _unenroll(e){try{return await this._useSession(async s=>{var r;const{data:n,error:i}=s;return i?{data:null,error:i}:await M(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token})})}catch(s){if(D(s))return{data:null,error:s};throw s}}async _enroll(e){try{return await this._useSession(async s=>{var r,n;const{data:i,error:o}=s;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:u}=await M(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((n=l==null?void 0:l.totp)===null||n===void 0)&&n.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(s){if(D(s))return{data:null,error:s};throw s}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var r;const{data:n,error:i}=s;if(i)return{data:null,error:i};const{data:o,error:a}=await M(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(s){if(D(s))return{data:null,error:s};throw s}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var r;const{data:n,error:i}=s;return i?{data:null,error:i}:await M(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token})})}catch(s){if(D(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(e){const{data:s,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:s.id,code:e.code})}async _listFactors(){const{data:{user:e},error:s}=await this.getUser();if(s)return{data:null,error:s};const r=(e==null?void 0:e.factors)||[],n=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:n,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var s,r;const{data:{session:n},error:i}=e;if(i)return{data:null,error:i};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Sr(n.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(s=n.user.factors)===null||s===void 0?void 0:s.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const c=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:c},error:null}}))}async fetchJwk(e,s={keys:[]}){let r=s.keys.find(a=>a.kid===e);if(r)return r;const n=Date.now();if(r=this.jwks.keys.find(a=>a.kid===e),r&&this.jwks_cached_at+Bu>n)return r;const{data:i,error:o}=await M(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=n,r=i.keys.find(a=>a.kid===e),!r)?null:r}async getClaims(e,s={}){try{let r=e;if(!r){const{data:f,error:v}=await this.getSession();if(v||!f.session)return{data:null,error:v};r=f.session.access_token}const{header:n,payload:i,signature:o,raw:{header:a,payload:l}}=Sr(r);s!=null&&s.allowExpired||hh(i.exp);const u=!n.alg||n.alg.startsWith("HS")||!n.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(n.kid,s!=null&&s.keys?{keys:s.keys}:s==null?void 0:s.jwks);if(!u){const{error:f}=await this.getUser(r);if(f)throw f;return{data:{claims:i,header:n,signature:o},error:null}}const c=dh(n.alg),h=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,h,o,Qu(`${a}.${l}`)))throw new Vr("Invalid JWT signature");return{data:{claims:i,header:n,signature:o},error:null}}catch(r){if(D(r))return{data:null,error:r};throw r}}}us.nextInstanceID=0;const Ah=us;class Ch extends Ah{constructor(e){super(e)}}var Ph=globalThis&&globalThis.__awaiter||function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class jh{constructor(e,s,r){var n,i,o;if(this.supabaseUrl=e,this.supabaseKey=s,!e)throw new Error("supabaseUrl is required.");if(!s)throw new Error("supabaseKey is required.");const a=Uu(e),l=new URL(a);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const u=`sb-${l.hostname.split(".")[0]}-auth-token`,c={db:Ou,realtime:Cu,auth:Object.assign(Object.assign({},Au),{storageKey:u}),global:Eu},h=Lu(r??{},c);this.storageKey=(n=h.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(i=h.global.headers)!==null&&i!==void 0?i:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(g,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=h.auth)!==null&&o!==void 0?o:{},this.headers,h.global.fetch),this.fetch=Ru(s,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new zc(new URL("rest/v1",l).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),this.storage=new xu(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new Tc(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,s={},r={}){return this.rest.rpc(e,s,r)}channel(e,s={config:{}}){return this.realtime.channel(e,s)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,s;return Ph(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(s=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&s!==void 0?s:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:s,detectSessionInUrl:r,storage:n,storageKey:i,flowType:o,lock:a,debug:l},u,c){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Ch({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),u),storageKey:i,autoRefreshToken:e,persistSession:s,detectSessionInUrl:r,storage:n,flowType:o,lock:a,debug:l,fetch:c,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new uu(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,r)=>{this._handleTokenChanged(s,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,s,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const $h=(t,e,s)=>new jh(t,e,s);function Rh(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}Rh()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Ih="https://orvhzhgcpqafsidjkjkn.supabase.co",Uh="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9ydmh6aGdjcHFhZnNpZGpramtuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTE5NDEyNjgsImV4cCI6MjA2NzUxNzI2OH0.XZ3dNXXnBfUZHejWHp4Z73JwKY27BvHVyg-77U7w8gA",Lt=$h(Ih,Uh),Lh=async(t,e)=>{try{const{data:s,error:r}=await Lt.storage.from("files").upload(e,t);if(r)throw r;const{data:n}=Lt.storage.from("files").getPublicUrl(e),{error:i}=await Lt.from("file_uploads").insert([{name:e,size:t.size,type:t.type,url:n.publicUrl}]);if(i)throw i;return{success:!0,url:n.publicUrl}}catch(s){return console.error("上傳錯誤:",s),{success:!1,error:s.message}}},Dh=async()=>{try{const{data:t,error:e}=await Lt.from("file_uploads").select("*").order("created_at",{ascending:!1});if(e)throw e;return{success:!0,data:t}}catch(t){return console.error("獲取錯誤:",t),{success:!1,error:t.message}}},Nh=async t=>{try{const{error:e}=await Lt.storage.from("files").remove([t]);if(e)throw e;const{error:s}=await Lt.from("file_uploads").delete().eq("name",t);if(s)throw s;return{success:!0}}catch(e){return console.error("刪除錯誤:",e),{success:!1,error:e.message}}},Mh={class:"w-full max-w-2xl mx-auto"},Fh={class:"space-y-4"},Bh={class:"text-xl font-medium text-gray-700"},Hh={key:0,class:"mt-6"},qh={class:"bg-gray-100 rounded-lg p-4"},Wh={class:"flex items-center justify-between mb-2"},Kh={class:"text-sm text-gray-500"},Vh={class:"w-full bg-gray-200 rounded-full h-2"},zh={key:1,class:"mt-4"},Jh={key:0,class:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded"},Gh={key:1,class:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded"},Yh={__name:"FileUpload",emits:["file-uploaded"],setup(t,{emit:e}){const s=e,r=Ke(null),n=Ke(!1),i=Ke(!1),o=Ke(0),a=Ke(null),l=g=>{g.preventDefault(),n.value=!1;const f=Array.from(g.dataTransfer.files);f.length>0&&c(f)},u=g=>{const f=Array.from(g.target.files);f.length>0&&c(f)},c=async g=>{for(const f of g){if(f.size>100*1024*1024){alert(`檔案 ${f.name} 超過100MB限制`);continue}await h(f)}},h=async g=>{i.value=!0,o.value=0,a.value=null;const v=`${Date.now()}_${g.name}`;try{const S=setInterval(()=>{o.value<90&&(o.value+=Math.random()*20)},200),C=await Lh(g,v);clearInterval(S),o.value=100,a.value=C,C.success&&(s("file-uploaded",{name:v,originalName:g.name,size:g.size,type:g.type,url:C.url}),r.value&&(r.value.value="")),setTimeout(()=>{a.value=null,i.value=!1,o.value=0},3e3)}catch(S){a.value={success:!1,error:S.message},i.value=!1,o.value=0}};return(g,f)=>(ge(),be("div",Mh,[P("div",{onDrop:l,onDragover:f[1]||(f[1]=Xn(()=>{},["prevent"])),onDragenter:f[2]||(f[2]=Xn(()=>{},["prevent"])),class:Ks(["border-2 border-dashed border-gray-300 rounded-lg p-8 text-center hover:border-blue-400 transition-colors",{"border-blue-500 bg-blue-50":n.value}])},[P("div",Fh,[f[3]||(f[3]=P("div",{class:"text-6xl text-gray-400"},"📁",-1)),P("div",Bh,De(n.value?"釋放檔案以上傳":"拖拽檔案到這裡或點擊上傳"),1),f[4]||(f[4]=P("div",{class:"text-sm text-gray-500"}," 支援所有檔案類型，最大100MB ",-1)),P("input",{ref_key:"fileInput",ref:r,type:"file",onChange:u,class:"hidden",multiple:""},null,544),P("button",{onClick:f[0]||(f[0]=v=>g.$refs.fileInput.click()),class:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors"}," 選擇檔案 ")])],34),i.value?(ge(),be("div",Hh,[P("div",qh,[P("div",Wh,[f[5]||(f[5]=P("span",{class:"text-sm font-medium text-gray-700"},"上傳中...",-1)),P("span",Kh,De(o.value)+"%",1)]),P("div",Vh,[P("div",{class:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:Ws({width:o.value+"%"})},null,4)])])])):Rr("",!0),a.value?(ge(),be("div",zh,[a.value.success?(ge(),be("div",Jh," 檔案上傳成功！ ")):(ge(),be("div",Gh," 上傳失敗："+De(a.value.error),1))])):Rr("",!0)]))}},Qh={class:"w-full max-w-4xl mx-auto"},Xh={class:"bg-white rounded-lg shadow-sm border"},Zh={key:0,class:"p-8 text-center"},ed={key:1,class:"p-8 text-center text-gray-500"},td={key:2,class:"divide-y divide-gray-200"},sd={class:"flex items-center justify-between"},rd={class:"flex items-center space-x-4 flex-1 min-w-0"},nd={class:"flex-shrink-0"},id={class:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center"},od={class:"text-blue-600 text-lg"},ad={class:"flex-1 min-w-0"},ld={class:"flex items-center space-x-2"},cd=["onClick","title"],ud={key:0,class:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded"},hd={class:"flex items-center space-x-4 text-xs text-gray-500 mt-1"},dd={class:"flex items-center space-x-2"},fd=["onClick"],pd=["onClick"],gd={__name:"FileList",props:{refreshTrigger:{type:Number,default:0}},setup(t){const e=t,s=Ke([]),r=Ke(!1),n=async()=>{r.value=!0;try{const f=await Dh();f.success?s.value=f.data||[]:console.error("獲取檔案列表失敗:",f.error)}catch(f){console.error("獲取檔案列表錯誤:",f)}finally{r.value=!1}},i=async f=>{if(confirm(`確定要刪除檔案 "${l(f.name)}" 嗎？`))try{const v=await Nh(f.name);v.success?s.value=s.value.filter(S=>S.id!==f.id):alert("刪除失敗："+v.error)}catch(v){alert("刪除失敗："+v.message)}},o=f=>{if(f.url){const v=document.createElement("a");v.href=f.url,v.download=l(f.name),document.body.appendChild(v),v.click(),document.body.removeChild(v)}},a=f=>f!=null&&f.includes("image")?"🖼️":f!=null&&f.includes("video")?"🎥":f!=null&&f.includes("audio")?"🎵":f!=null&&f.includes("pdf")?"📄":f!=null&&f.includes("text")?"📝":f!=null&&f.includes("zip")||f!=null&&f.includes("rar")?"📦":"📁",l=f=>{if(!f)return"";const v=f.split("_");return v.length>1&&/^\d+$/.test(v[0])?v.slice(1).join("_"):f},u=f=>{if(!f)return"";const v=["B","KB","MB","GB"],S=Math.floor(Math.log(f)/Math.log(1024));return Math.round(f/Math.pow(1024,S)*100)/100+" "+v[S]},c=f=>{var v;return f?((v=f.split("/")[1])==null?void 0:v.toUpperCase())||f:"未知类型"},h=f=>f?new Date(f).toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}):"",g=()=>{e.refreshTrigger>0&&n()};return ln(()=>{n()}),Cs(()=>e.refreshTrigger,g),(f,v)=>(ge(),be("div",Qh,[P("div",Xh,[v[2]||(v[2]=P("div",{class:"px-6 py-4 border-b border-gray-200"},[P("h3",{class:"text-lg font-medium text-gray-900"},"已上傳的檔案"),P("p",{class:"text-sm text-gray-500 mt-1"},"點擊檔案名下載，或刪除不需要的檔案")],-1)),r.value?(ge(),be("div",Zh,[...v[0]||(v[0]=[P("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"},null,-1),P("p",{class:"mt-2 text-gray-500"},"載入中...",-1)])])):s.value.length===0?(ge(),be("div",ed,[...v[1]||(v[1]=[P("div",{class:"text-4xl mb-2"},"📂",-1),P("p",null,"還沒有上傳任何檔案",-1)])])):(ge(),be("div",td,[(ge(!0),be(Ue,null,Za(s.value,S=>(ge(),be("div",{key:S.id,class:"px-6 py-4 hover:bg-gray-50 transition-colors"},[P("div",sd,[P("div",rd,[P("div",nd,[P("div",id,[P("span",od,De(a(S.type)),1)])]),P("div",ad,[P("div",ld,[P("button",{onClick:C=>o(S),class:"text-sm font-medium text-blue-600 hover:text-blue-800 truncate",title:S.name},De(l(S.name)),9,cd),S.size?(ge(),be("span",ud,De(u(S.size)),1)):Rr("",!0)]),P("div",hd,[P("span",null,De(c(S.type)),1),P("span",null,De(h(S.created_at)),1)])])]),P("div",dd,[P("button",{onClick:C=>o(S),class:"px-3 py-1 text-sm text-blue-600 hover:text-blue-800 hover:bg-blue-50 rounded transition-colors"}," 下載 ",8,fd),P("button",{onClick:C=>i(S),class:"px-3 py-1 text-sm text-red-600 hover:text-red-800 hover:bg-red-50 rounded transition-colors"}," 刪除 ",8,pd)])])]))),128))]))])]))}},_d={class:"min-h-screen bg-gray-50"},vd={class:"bg-white shadow-sm border-b"},md={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},yd={class:"flex justify-between items-center py-6"},bd={class:"hidden sm:block"},wd={class:"text-right"},Sd={class:"text-lg font-medium text-gray-900"},xd={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},Td={class:"space-y-8"},kd={__name:"App",setup(t){const e=Ke(""),s=Ke(0);let r=null;const n=()=>{const o=new Date;e.value=o.toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})},i=()=>{s.value=Date.now()};return ln(()=>{n(),r=setInterval(n,1e3)}),cn(()=>{r&&clearInterval(r)}),(o,a)=>(ge(),be("div",_d,[P("header",vd,[P("div",md,[P("div",yd,[a[1]||(a[1]=P("div",{class:"flex items-center space-x-3"},[P("div",{class:"text-3xl"},"📤"),P("div",null,[P("h1",{class:"text-2xl font-bold text-gray-900"},"檔案上傳分享"),P("p",{class:"text-sm text-gray-500"},"手機上傳，電腦查看，隨時隨地分享檔案")])],-1)),P("div",bd,[P("div",wd,[a[0]||(a[0]=P("div",{class:"text-sm text-gray-500"},"當前時間",-1)),P("div",Sd,De(e.value),1)])])])])]),P("main",xd,[P("div",Td,[P("section",null,[a[2]||(a[2]=P("div",{class:"text-center mb-8"},[P("h2",{class:"text-3xl font-bold text-gray-900 mb-2"},"上傳檔案"),P("p",{class:"text-lg text-gray-600"},"支援拖拽上傳，最大100MB")],-1)),Ce(Yh,{onFileUploaded:i})]),P("section",null,[Ce(gd,{"refresh-trigger":s.value},null,8,["refresh-trigger"])])])]),a[3]||(a[3]=P("footer",{class:"bg-white border-t mt-16"},[P("div",{class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},[P("div",{class:"text-center text-gray-500"},[P("p",{class:"mt-2 text-sm"}," 支援手機和電腦訪問，檔案儲存在雲端 ")])])],-1))]))}};_c(kd).mount("#app");
